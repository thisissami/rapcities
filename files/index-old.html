<html>
   <head prefix="og: http://ogp.me/ns# fb: http://ogp.me/ns/fb# rapcities: http://ogp.me/ns/fb/rapcities#">
  <meta property="fb:app_id" content="134659439991720" /> 
  <meta property="og:type"   content="rapcities:song" /> 
  <meta property="og:url"    content="Put your own URL to the object here" /> 
  <meta property="og:title"  content="RapCities" /> 
  <meta property="og:image"  content="http://localhost:8888/frlogo.png" />
    <title>RapCities Pre-Alpha</title>
    <script type="text/javascript" src="http://localhost:8888/processing-1.3.6.min.js"></script>
    <script type="text/javascript" src="https://ajax.googleapis.com/ajax/libs/jquery/1.7.1/jquery.min.js"></script>
	    <script type="text/javascript" src="http://localhost:8888/soundmanager2.js"></script>
    <script type="text/javascript" src="http://xe-widgets.googlecode.com/svn-history/r10/trunk/widgets/xe_banner/skins/bannerSlider/js/slides.jquery.js"></script>
	<script type="text/javascript" src="https://ajax.googleapis.com/ajax/libs/swfobject/2.2/swfobject.js"></script>
	<script type="text/javascript" src="https://ajax.googleapis.com/ajax/libs/jqueryui/1.8.18/jquery-ui.min.js"></script>
	<!--<link rel="stylesheet" type="text/css" href="jquery-ui-1.8.18.custom.css" />-->
    <link rel='stylesheet' src="http://slidesjs.com/examples/images-with-captions/css/global.css">
        <script type="text/javascript" src="http://localhost:8888/js/jquery-ui-1.8.18.custom.min.js"></script>
    
    <link type="text/css" href="http://localhost:8888/css/dark-hive/jquery-ui-1.8.18.custom.css" rel="stylesheet" />

    <style type="text/css">
      body {
        background-color: black;
        color: white;
		margin:0px;overflow:hidden;
      }
      h2 {
        font-size: 16px;
      }
      #canvas {
        /*width: 1158px;
        height: 635px;*/
        position: absolute;
        z-index: 0;
		/*left: 50%;
		margin-left:-479px;*/
		/*margin: auto;*/
      }
      #artist-info {
        position: absolute;
        z-index: -1;
        display: none;
        background-color: black;
        font: 15px Verdana, sans-serif;
		left: 50%;
		margin-left:-479px;
      }
      #top  {
        width: 700px;
        margin: 0 auto;
      }
      #top li {
        display: inline;
      }
      #center {
        float: left;
      }
      #popup {
        z-index: 2;
        float: left;
        display: none;
      }
      #popup a{
        color: white;
      }
      #popup-nav {
        height: 50px;
      }
      #popup-close {
        float: left;
      }
      #popup-url {
        float: right;
      }
      #center div {
        display: none;
      }
      #center div div {
        display: block;
      }
      td.square-td {
        width: 33%;
      }
      div.square {
        height: 166px;
        margin: 10px;
        text-overflow: ellipsis;
        overflow: hidden;
        padding: 12px;
      }
      div.square-hover {
        border: 2px solid white;
        padding: 10px;
      }
      .square a {
        text-decoration: underline;
        color: white;
      }
      .square p {
        font-size: 14px;
      }
      .type {
        float: left;
        width: 100px;
        height: 36px;
        padding-top: 16px;
        text-align: center;
        border: 2px solid white;
      }
      #close {
        font-weight: bold;
      }
      .selected-type {
        background-color: white;
        color: black;
      }
      .hover-type {
        background-color: white;
        color: black;
      }
      .never-hover-square {
        padding: 12px !important;
        border: none !important;
      }
      .square h2 {
        font-size: 16px;
        font-weight: bold;
      }
      .video {
        text-align: center;
      }
      .clear {
        clear: both;
      }
      iframe.popup {
        z-index: 2;
      }
      .video-thumbnail {
        width: 120px;
      }
      
      
      
      /* slides */
      .slides_container {
        width:570px;
        overflow:hidden;
        position:relative;
        display:none;
      }
      
      .slides_container div.slide {
        width:570px;
        display:block;
      }

	#dialogWindow{
		z-index:1;
		position:absolute;
		right:20px;
		top:350px;
	}
	#YouTubeP{
		z-index:1;
	}
	#legalDialog{
		z-index:3;
	}
	#legalbottom{
		z-index:2;
		position:absolute;
		bottom:0;
	}
	#parent{
		position:relative;
	}
    a {
      color: #CCCCCC;
      text-decoration: underline;
    }
    
    a:hover {
      color: #FFFFFF;
    }
    
    #userFavs {
	    font-family: "Lucida Sans Unicode", "Lucida Grande", Sans-Serif;
	    font-size: 12px;
	    width: 480px;
	    text-align: left;
	    border-collapse: collapse;
	    border: 1px solid #FFFFFF;
	    background-color: #000;
	    margin:0 auto;
    }
    
    #userFavs th {
	    padding: 12px 17px 12px 17px;
	    font-weight: bold;
	    font-size: 14px;
	    color: #FFFFFF;
	    border-bottom: 1px dashed #FFFFFF;
    }
    
    #userFavs td {
	    padding: 7px 17px 7px 17px;
	    color: #FFFFFF;
    }
    
    #userFavs tbody tr:hover td {
	    color: #222222;
	    background: #CCCCCC;
    }
    
    #login-block {
      text-align:right;
      margin:0 auto;
      //width:271px; // this is size of other panel
      width:auto;
      color: #FFFFFF;
      background: #000000;
      		z-index:5;
		position:absolute;
		right:18px;
		top:10px;
		border: 2px solid #EEEEEE;
      padding: 6px 6px 6px 6px;
    }
    
    #toolbox {
      margin: 0 auto;
      left: 0px;
      top: 0px;
      width: auto;
      //height: 26px;
      background: #000000;
      z-index: 500;
      position: relative;
      overflow: visible;
      //display: none;
      float: left;
    }
    
    #fbLikeContainer {
      width: 91px;
      overflow: visible;
      display: inline-block;
    }
    
    #fbLikeContainer iframe {
    width: 91px !important;
}

#fbLikeContainer .fb_iframe_widget span {
	vertical-align:baseline;
}

#fbLikeContainer .fb_edge_comment_widget iframe {
    width: 400px !important;
}
    
    #fbLoginSpan {
      float:right;
    }
    </style>
	<script type="text/javascript">

	  var _gaq = _gaq || [];
	  _gaq.push(['_setAccount', 'UA-32180049-1']);
	  _gaq.push(['_trackPageview']);

	  (function() {
	    var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
	    ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
	    var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
	  })();

	</script>
	<script type="text/javascript">
      $(document).ready(function(){
        var cvs = document.getElementById("canvas");
        var p = new Processing(cvs, 
(function(ax){var l=(function(){function bx(){var bz=this;function bB(){ax.extendClassChain(bz)}bz.x=0;bz.y=0;bz.hw=0;bz.hh=0;bz.invert=false;bz.pressedHere=false;function bE(){return ax.mouseX>bz.x-bz.hw&&ax.mouseX<bz.x+bz.hw&&ax.mouseY>bz.y-bz.hh&&ax.mouseY<bz.y+bz.hh}ax.addMethod(bz,"pressed",bE);function bF(bH,bI){bz.x=bH;bz.y=bI}ax.addMethod(bz,"newPos",bF);function bD(){}ax.addMethod(bz,"mousePressed",bD);function bA(){}ax.addMethod(bz,"mouseReleased",bA);function bC(){}ax.addMethod(bz,"draw",bC);function bG(bI,bK,bH,bJ){bB();bz.x=bI;bz.y=bK;bz.hw=bH;bz.hh=bJ}function by(){if(arguments.length===4){bG.apply(bz,arguments)}else{bB()}}by.apply(null,arguments)}return bx})();ax.Button=l;var J=(function(){function bx(){var bD=this;function bC(){ax.extendClassChain(bD)}bD.rapper=null;bD.rapcircle=null;bD.NYC=null;bD.miniNYC=null;bD.cultureIcon=null;bD.sponsorIcon=null;bD.NYCx=1000;bD.NYCy=711;bD.ox=0;bD.oy=0;bD.ocx=0;bD.ocy=0;bD.allX=0;bD.allY=0;bD.widths=null;bD.heights=null;bD.ominx=0;bD.ominy=0;bD.minix=0;bD.miniy=0;bD.maxix=0;bD.maxiy=0;bD.opressed=false;bD.miniPressed=false;bD.once=false;function bB(){bD.$self.drawMap();bD.$self.drawEvents();bD.$self.drawArtists();ax.fill(0);ax.noStroke();ax.rectMode(ax.CORNERS);bD.$self.drawMini()}ax.addMethod(bD,"draw",bB);function bz(){ax.imageMode(ax.CENTER);var bT=0;var bW=0;var bV=0;for(bV=0;bV<8;bV++){bT+=bD.widths[bV];if(bT>bd){break}}var bU=0;for(bU=0;bU<8;bU++){bW+=bD.heights[bU];if(bW>bb){break}}bD.$self.grimage(bU,bV,0+aF/2-(bD.widths[bV]/2-(bT-bd)),0+ak/2-(bD.heights[bU]/2-(bW-bb)));if(bU>0){bD.$self.grimage(bU-1,bV,0+aF/2-(bD.widths[bV]/2-(bT-bd)),0+ak/2-bD.heights[bU]-(bD.heights[bU-1]/2-(bW-bb))+1)}if(bV>0){bD.$self.grimage(bU,bV-1,0+aF/2-bD.widths[bV]-(bD.widths[bV-1]/2-(bT-bd))+1,0+ak/2-(bD.heights[bU]/2-(bW-bb)))}if(bU<7){bD.$self.grimage(bU+1,bV,0+aF/2-(bD.widths[bV]/2-(bT-bd)),0+ak/2+bD.heights[bU+1]/2+(bW-bb)-1)}if(bV<7){bD.$self.grimage(bU,bV+1,0+aF/2+bD.widths[bV+1]/2+(bT-bd)-1,0+ak/2-(bD.heights[bU]/2-(bW-bb)))}if(bU>0&&bV>0){bD.$self.grimage(bU-1,bV-1,0+aF/2-bD.widths[bV]-(bD.widths[bV-1]/2-(bT-bd))+1,0+ak/2-bD.heights[bU]-(bD.heights[bU-1]/2-(bW-bb))+1)}if(bU>0&&bV<7){bD.$self.grimage(bU-1,bV+1,0+aF/2+bD.widths[bV+1]/2+(bT-bd)-1,0+ak/2-bD.heights[bU]-(bD.heights[bU-1]/2-(bW-bb))+1)}if(bU<7&&bV<7){bD.$self.grimage(bU+1,bV+1,0+aF/2+bD.widths[bV+1]/2+(bT-bd)-1,0+ak/2+bD.heights[bU+1]/2+(bW-bb)-1)}if(bU<7&&bV>0){bD.$self.grimage(bU+1,bV-1,0+aF/2-bD.widths[bV]-(bD.widths[bV-1]/2-(bT-bd))+1,0+ak/2+bD.heights[bU+1]/2+(bW-bb)-1)}}ax.addMethod(bD,"drawMap",bz);function bG(bU,bW,bV,bT){if(aq[bU][bW]){ax.image(aq[bU][bW],bV,bT)}else{if(!ag[bU][bW]){a7(bU,bW);ax.rectMode(ax.CENTER);ax.fill(150);ax.noStroke();ax.rect(bV,bT,1000,1000)}}}ax.addMethod(bD,"grimage",bG);function bO(){ax.imageMode(ax.CORNERS);ax.image(bD.miniNYC,av,x,y,aA);ax.rectMode(ax.CENTER);ax.noFill();ax.strokeWeight(1);ax.stroke(aX[0]);ax.rect(av+ao,x+an,a0,aZ);ax.ellipseMode(ax.CENTER);ax.fill(aX[2]);ax.stroke(aX[2]);for(var bT=0;bT<R.size();bT++){var bU=R.get(bT);if(bU==k){ax.ellipse(ax.map(bU.x,531.749,531.749+853,av,y),ax.map(bU.y,231.083,231.083+810,x,aA),5,5)}else{ax.ellipse(ax.map(bU.x,531.749,531.749+853,av,y),ax.map(bU.y,231.083,231.083+810,x,aA),3,3)}}ax.fill(aX[8]);ax.stroke(aX[8]);for(var bT=0;bT<aI.size();bT++){var bU=aI.get(bT);ax.ellipse(ax.map(bU.x,531.749,531.749+853,av,y),ax.map(bU.y,231.083,231.083+810,x,aA),2,2)}ax.fill(aX[1]);ax.stroke(aX[1]);for(var bT=0;bT<au.size();bT++){var bU=au.get(bT);ax.ellipse(ax.map(bU.x,531.749,531.749+853,av,y),ax.map(bU.y,231.083,231.083+810,x,aA),2,2)}}ax.addMethod(bD,"drawMini",bO);function bI(){aF=X;ak=bc;a0=ax.map(aF,0,br,0,284);aZ=ax.map(ak,0,aU,0,270);bd=3095.5;bb=5033.5;ao=ax.map(bd,0,br,0,284);an=ax.map(bb,0,aU,0,270);bD.widths=new Array(1018,1027,1017,1028,1017,1028,1017,1037);bD.heights=new Array(950,970,970,969,979,970,970,979);bD.allX=9207;bD.allY=8707;bD.$self.setMins()}ax.addMethod(bD,"prep",bI);function bF(){if(ax.mouseX>av&&ax.mouseY>x&&ax.mouseX<y&&ax.mouseY<aA){bD.miniPressed=true;ao=ax.min(ax.max(a0/2,ax.mouseX-av),284-a0/2);an=ax.min(ax.max(aZ/2,ax.mouseY-x),270-aZ/2);bD.$self.miniToMaxi()}}ax.addMethod(bD,"miniMousePressed",bF);function bH(){if(bD.miniPressed){ao=ax.min(ax.max(a0/2,ax.mouseX-av),284-a0/2);an=ax.min(ax.max(aZ/2,ax.mouseY-x),270-aZ/2);bD.$self.miniToMaxi()}}ax.addMethod(bD,"miniMouseDragged",bH);function by(){bd=ax.map(ao,0,284,0,br);bb=ax.map(an,0,270,0,aU);bD.$self.setMins()}ax.addMethod(bD,"miniToMaxi",by);function bP(){bD.miniPressed=false}ax.addMethod(bD,"miniMouseReleased",bP);function bQ(){if(ax.key==ax.CODED){switch(ax.keyCode){case (ax.UP):an=ax.max(an-1,aZ/2);bD.$self.miniToMaxi();break;case (ax.DOWN):an=ax.min(an+1,270-aZ/2);bD.$self.miniToMaxi();break;case (ax.LEFT):ao=ax.max(ao-1,a0/2);bD.$self.miniToMaxi();break;case (ax.RIGHT):ao=ax.min(ao+1,284-a0/2);bD.$self.miniToMaxi();break}}}ax.addMethod(bD,"keyPressed",bQ);function bK(){ax.shapeMode(ax.CENTER);aQ=-1;for(var bU=0;bU<R.size();bU++){var bW=R.get(bU);if(bW.x<bg+10&&bW.x>G-10&&bW.y<be+15&&bW.y>E-15){var bT=ax.map(bW.x,G,bg,0,X);var bX=ax.map(bW.y,E,be,0,bc);if(ax.mouseX<bT+15&&ax.mouseX>bT-15&&ax.mouseY<bX+15&&ax.mouseY>bX-15&&(ax.mouseX<av||ax.mouseX>y||ax.mouseY<at||ax.mouseY>aA)){ax.shape(bD.rapcircle,bT,bX,30,30);aQ=bU}else{if(bW==k){ax.shape(bD.rapcircle,bT,bX,30,30);ax.textSize(18);var bV=ax.textWidth(k.name);ax.stroke(aX[2]);ax.fill(0);ax.rectMode(ax.CENTER);ax.rect(bT,bX-40,bV+12,26,10);ax.fill(aX[2]);ax.textAlign(ax.LEFT,ax.TOP);ax.text(k.name,bT-bV/2,bX-50)}else{ax.shape(bD.rapper,bT,bX,20,30)}}}}}ax.addMethod(bD,"drawArtists",bK);function bM(){ax.imageMode(ax.CENTER);curehover=-1;for(var bU=0;bU<au.size();bU++){var bV=au.get(bU);if(bV.x<bg+18&&bV.x>G-18&&bV.y<be+26&&bV.y>E-26){var bT=ax.map(bV.x,G,bg,0,X);var bW=ax.map(bV.y,E,be,0,bc);if(ax.mouseX<bT+18&&ax.mouseX>bT-18&&ax.mouseY<bW+26&&ax.mouseY>bW-26){curehover=bU;aL=bo}ax.image(bD.cultureIcon,bT,bW)}}for(var bU=0;bU<aI.size();bU++){var bV=aI.get(bU);if(bV.x<bg+18&&bV.x>G-18&&bV.y<be+26&&bV.y>E-26){var bT=ax.map(bV.x,G,bg,0,X);var bW=ax.map(bV.y,E,be,0,bc);if(ax.mouseX<bT+18&&ax.mouseX>bT-18&&ax.mouseY<bW+26&&ax.mouseY>bW-26){curehover=bU;aL=c}ax.image(bD.sponsorIcon,bT,bW)}}}ax.addMethod(bD,"drawEvents",bM);function bJ(){bD.ox=ax.mouseX;bD.oy=ax.mouseY;bD.ocx=bd;bD.ocy=bb;bD.ominx=G;bD.ominy=E;bD.opressed=true}ax.addMethod(bD,"mousePressed",bJ);function bS(){if(bD.opressed){bd=bD.ocx-(ax.mouseX-bD.ox);bb=bD.ocy-(ax.mouseY-bD.oy);if(bd>br-aF/2){bd=br-aF/2}if(bd<aF/2){bd=aF/2}if(bb<ak/2){bb=ak/2}if(bb>aU-ak/2){bb=aU-ak/2}ao=ax.map(bd,0,br,0,284);an=ax.map(bb,0,aU,0,270);bD.$self.setMins()}}ax.addMethod(bD,"mouseDragged",bS);function bA(){G=ax.map(bd-aF/2,0,br,531.749,531.749+853);bg=ax.map(bd+aF/2,0,br,531.749,531.749+853);E=ax.map(bb-ak/2,0,aU,231.083,231.083+810);be=ax.map(bb+ak/2,0,aU,231.083,231.083+810)}ax.addMethod(bD,"setMins",bA);function bR(){bD.opressed=false}ax.addMethod(bD,"mouseReleased",bR);function bL(){bD.opressed=false}ax.addMethod(bD,"mouseOut",bL);function bE(){bC();bD.NYC=ax.loadImage("http://localhost:8888/NYC.gif");bD.miniNYC=ax.loadImage("http://localhost:8888/miniNYC.png");bD.sponsorIcon=ax.loadImage("http://localhost:8888/sponsoricon.png");bD.cultureIcon=ax.loadImage("http://localhost:8888/cultureicon.png");bD.ox=bD.oy=-1;bD.rapper=ax.loadShape("http://localhost:8888/rapper.svg");bD.rapcircle=ax.loadShape("http://localhost:8888/bot.svg");bD.$self.prep()}function bN(){if(arguments.length===0){bE.apply(bD,arguments)}else{bC()}}bN.apply(null,arguments)}return bx})();ax.Map=J;var P=(function(){function bx(){var bB=this;var bE={$upcast:bB};function bD(){l.apply(bE,arguments);if(!("$self" in bE)){ax.extendClassChain(bE)}}bB.play=false;function bz(){return bB.play}ax.addMethod(bB,"paused",bz);function bH(){if(bE.pressed()){bB.invert=true;bB.pressedHere=true}}ax.addMethod(bB,"mousePressed",bH);function bF(){if(bE.pressed()&&bB.pressedHere){bB.invert=true}else{bB.invert=false}}ax.addMethod(bB,"mouseDragged",bF);function bC(){if(bB.invert&&bB.pressedHere){if(aO&&s==ay){q.togglePause()}else{if(s==bt){if(bf.getPlayerState()==2){bf.playVideo()}else{bf.pauseVideo()}}}bB.invert=false}bB.pressedHere=false}ax.addMethod(bB,"mouseReleased",bC);function by(){if(s==ay&&aO){if(q!=null&&q.playState==1){if(q.paused){if(!T){bB.play=true}}else{bB.play=false}}else{bB.play=true}}else{if(s==bt){if(bf.getPlayerState()==2||bf.getPlayerState()==-1){if(!T){bB.play=true}}else{bB.play=false}}}}ax.addMethod(bB,"update",by);function bG(){if(bB.invert){ax.fill(255);ax.noStroke()}else{ax.noFill();if(bE.pressed()){ax.stroke(255)}else{ax.noStroke()}}ax.rect(bB.x-bB.hw,bB.y-bB.hh,bB.x+bB.hw,bB.y+bB.hh);if(bB.invert){ax.fill(0);ax.noStroke()}else{ax.fill(255);ax.noStroke()}if(bB.play){ax.triangle(bB.x-bB.hw/2,bB.y-bB.hh/2,bB.x-bB.hw/2,bB.y+bB.hh/2,bB.x+bB.hw/2,bB.y)}else{ax.rect(bB.x-bB.hw/2,bB.y-bB.hh/2,bB.x-1,bB.y+bB.hh/2);ax.rect(bB.x+bB.hw/2,bB.y-bB.hh/2,bB.x+1,bB.y+bB.hh/2)}}ax.addMethod(bB,"draw",bG);function bI(bK,bM,bJ,bL){bD(bK,bM,bJ,bL);bB.play=true}function bA(){if(arguments.length===4){bI.apply(bB,arguments)}else{bD()}}bA.apply(null,arguments)}ax.extendStaticMembers(bx,l);bx.$base=l;return bx})();ax.Play=P;var Y=(function(){function bx(){var bz=this;var bC={$upcast:bz};function bB(){l.apply(bC,arguments);if(!("$self" in bC)){ax.extendClassChain(bC)}}bz.invert=false;bz.pressed=false;function bF(){if(bC.pressed()){bz.invert=true;bz.pressedHere=true}}ax.addMethod(bz,"mousePressed",bF);function bD(){if(bC.pressed()&&bz.pressedHere){bz.invert=true}else{bz.invert=false}}ax.addMethod(bz,"mouseDragged",bD);function bA(){if(bz.invert&&bz.pressedHere){bp();bz.invert=false}bz.pressedHere=false}ax.addMethod(bz,"mouseReleased",bA);function bE(){if(bz.invert){ax.fill(255);ax.noStroke()}else{if(bC.pressed()){ax.textSize(14);var bH=ax.textWidth("Next Artist");ax.fill(0);ax.stroke(255);ax.rect(bz.x-bH/2-3,bz.y+15,bz.x+bH/2+3,bz.y+35);ax.textAlign(ax.CENTER,ax.TOP);ax.fill(255);ax.text("Next Artist",bz.x,bz.y+17);ax.noFill()}else{ax.noStroke();ax.noFill()}}ax.rect(bz.x-bz.hw,bz.y-bz.hh,bz.x+bz.hw,bz.y+bz.hh);if(bz.invert){ax.fill(0);ax.noStroke()}else{ax.fill(255);ax.noStroke()}ax.rect(bz.x-3,bz.y-bz.hh/2,bz.x-6,bz.y+bz.hh/2);ax.triangle(bz.x,bz.y-bz.hh/2,bz.x,bz.y+bz.hh/2,bz.x+bz.hw/2+1,bz.y)}ax.addMethod(bz,"draw",bE);function bG(bI,bK,bH,bJ){bB(bI,bK,bH,bJ);bz.invert=false}function by(){if(arguments.length===4){bG.apply(bz,arguments)}else{bB()}}by.apply(null,arguments)}ax.extendStaticMembers(bx,l);bx.$base=l;return bx})();ax.Forward=Y;var A=(function(){function bx(){var bB=this;function bE(){ax.extendClassChain(bB)}bB.panel=bq;bB.margin=10;bB.slant=2;bB.num=0;bB.mouseMainPaneControl=-1;bB.mouseSort=-1;bB.mouseFilter=0;bB.genreFilter=0;bB.mouseOnTitle=0;bB.mouseGenre=-1;bB.colorIcon=null;bB.sortIcon=null;bB.names=[" Current Info"," Color Mode","Sorting"];bB.currentColor=0;function bF(){bB.$self.drawControl();if(!k){bB.$self.printNoSong()}else{bB.$self.printTopSongs()}}ax.addMethod(bB,"draw",bF);function bG(){}ax.addMethod(bB,"mousePressed",bG);function bD(){}ax.addMethod(bB,"mouseReleased",bD);function bH(){ax.fill(0);ax.strokeWeight(2);ax.stroke(255);ax.rectMode(ax.CORNERS);ax.rect(av,a3,y+1,x);ax.textSize(15);ax.rectMode(ax.CORNERS);ax.noFill();ax.rect(av,aA,y+1,x)}ax.addMethod(bB,"drawControl",bH);function bz(){ax.textAlign(ax.LEFT,ax.TOP);ax.textSize(22);ax.fill(aX[2]);j(k.name,av+10,a3+10,200,0,22);ax.fill(255);ax.textSize(16);var bJ=k.topTracks.length;aa=-1;for(var bI=0;bI<bJ;bI++){if(bI==aE){ax.fill(aX[2]);j(k.topTracks[bI].title,av+20,a3+35+bI*22,248,aX[2],30);ax.fill(255)}else{if(ax.mouseX>av+20&&ax.mouseY<a3+35+(bI+1)*22&&ax.mouseY>a3+35+bI*22){ax.fill(aX[2]);j(k.topTracks[bI].title,av+20,a3+35+bI*22,248,aX[2],30);aa=bI;ax.fill(255)}else{j(k.topTracks[bI].title,av+20,a3+35+bI*22,248,ax.color(255),30)}}}}ax.addMethod(bB,"printTopSongs",bz);function bC(){ax.textAlign(ax.LEFT);ax.fill(255);ax.textSize(16);ax.text("Welcome to RapCities! Here you can explore how the sound of Hip-Hop and Rap changes from neighborhood to neighborhood in New York City!\n\nIf you find an artist you want to check out, just click on their icon, and you'll get to sample some of their most popular tunes.\n\n",av+20,a3+35,y-av-40,bc-a3)}ax.addMethod(bB,"printNoSong",bC);function by(bJ,bI){bE();av=bJ;at=bI;N=57;a3=at+N;y=X-aS;x=at+555;aA=x+270;bB.num=bB.names.length;ax.textSize(16)}function bA(){if(arguments.length===2){by.apply(bB,arguments)}else{bE()}}bA.apply(null,arguments)}return bx})();ax.SidePane=A;var r=(function(){function bx(){var bD=this;function bB(){ax.extendClassChain(bD)}bD.play=null;bD.ffwd=null;bD.pressedInSeekBar=false;bD.onVol=false;bD.onVolGen=false;bD.volDragged=false;bD.songPausedToBeginWith=false;bD.stillWithinSeekBar=false;bD.totTime=null;bD.total=0;function bA(){if(s==bt||(s==ay&&aO)){ax.rectMode(ax.CORNERS);bD.play.update();bD.play.draw();bD.ffwd.draw();bD.$self.drawSeekBar();bD.$self.drawVolume();if(bD.onVolGen){bD.$self.drawVolumeSetter()}ax.rectMode(ax.CENTER);ax.ellipseMode(ax.CENTER_RADIUS)}}ax.addMethod(bD,"draw",bA);function bz(){ax.textAlign(ax.LEFT,ax.TOP);ax.textSize(20);var bT=aX[2];ax.fill(bT);var bU=0,bV=0;if(ax.textWidth(k.topTracks[aE].title+" by "+k.name)<=(aD-50-aV+20)){bU=bV=X}else{if(ax.textWidth(k.topTracks[aE].title)>(aD-50-aV+20)/2-16&&ax.textWidth(k.name)>(aD-50-aV+20)/2-16){bU=bV=(aD-50-aV+20)/2-16}else{if(ax.textWidth(k.topTracks[aE].title)>ax.textWidth(k.name)){bV=X;bU=aD-50-aV+20-ax.textWidth(q.artist+" by ")}else{bU=X;bV=aD-50-aV+20-ax.textWidth(k.topTracks[aE].title+" by ")}}}j(k.topTracks[aE].title,aV+20,i+37,bU,bT,24);j(k.name,aV+20+ax.textWidth(" by ")+ax.min(bU,ax.textWidth(k.topTracks[aE].title)),i+37,bV,bT,24);ax.fill(255);ax.text(" by ",aV+20+ax.min(bU,ax.textWidth(k.topTracks[aE].title)),i+37)}ax.addMethod(bD,"drawSongInfo",bz);function bG(){bD.play.mousePressed();bD.ffwd.mousePressed();bD.$self.checkSeekBar();bD.$self.checkVol()}ax.addMethod(bD,"mousePressed",bG);function bP(){bD.play.mouseDragged();bD.ffwd.mouseDragged();bD.$self.dragSeekBar();bD.$self.dragVol()}ax.addMethod(bD,"mouseDragged",bP);function bQ(){bD.play.mouseReleased();bD.ffwd.mouseReleased();bD.$self.releaseSeekBar();bD.$self.releaseVol()}ax.addMethod(bD,"mouseReleased",bQ);function bH(){if(ax.mouseX>aD-10&&ax.mouseX<aD+2&&ax.mouseY>F-6&&ax.mouseY<F+6){return true}return false}ax.addMethod(bD,"onVolume",bH);function bR(){if(ax.mouseX>aD-volS-10&&ax.mouseX<aD+20&&ax.mouseY>F-volY&&ax.mouseY<F+volY){return true}return false}ax.addMethod(bD,"onVolumeSetter",bR);function by(){if(bD.$self.onVolume()){bD.onVol=true;ax.stroke(255)}else{ax.noStroke();bD.onVol=false}ax.fill(255);ax.triangle(aD-10,F,aD,F-7,aD,F+7);ax.rect(aD-10,F+3,aD-3,F-3);ax.stroke(255);ax.strokeWeight(2);ax.noFill();ax.ellipseMode(ax.RADIUS);if(!bu){if(ad>80){ax.arc(aD+6,F,12,12,-(ax.PI/3),ax.PI/3)}if(ad>60){ax.arc(aD+5,F,9,9,-(ax.PI/3),ax.PI/3)}if(ad>40){ax.arc(aD+4,F,6,6,-(ax.PI/3),ax.PI/3)}if(ad>20){ax.arc(aD+3,F,3,3,-(ax.PI/3),ax.PI/3)}}else{ax.stroke(aX[0]);ax.line(aD-9,F-8,aD+2,F+7)}if(bD.$self.onVolumeSetter()){bD.onVolGen=true}else{if(!bD.volDragged){bD.onVolGen=false}}}ax.addMethod(bD,"drawVolume",by);function bL(){if(bD.onVol){bD.$self.toggleMute()}else{if(bD.onVolGen&&ax.mouseX>aD-volS-5&&ax.mouseX<aD-volS+5&&ax.mouseY>F-volY&&ax.mouseY<F+volY){bD.volDragged=true;ad=(F+volY-ax.mouseY)/volD;if(s==ay){q.setVolume(ad)}else{if(s==bt){bf.setVolume(ad)}}}}}ax.addMethod(bD,"checkVol",bL);function bS(){if(bD.volDragged){if(ax.mouseY>F+volY){ad=0}else{if(ax.mouseY<F-volY){ad=100}else{ad=(F+volY-ax.mouseY)/volD}}if(s==ay){q.setVolume(ad)}else{if(s==bt){bf.setVolume(ad)}}}}ax.addMethod(bD,"dragVol",bS);function bK(){if(bD.volDragged){bD.volDragged=false}}ax.addMethod(bD,"releaseVol",bK);function bF(){ax.stroke(255);ax.strokeWeight(2);ax.fill(0);ax.rect(aD-volS-5,F-volY,aD-volS+5,F+volY);if(ad>0){ax.fill(aX[2]);ax.noStroke();ax.rect(aD-volS-4,F+volY-1,aD-volS+4,F+volY+1-ad*volD)}}ax.addMethod(bD,"drawVolumeSetter",bF);function bC(){if(s==ay&&aO){q.toggleMute()}else{if(s==bt){if(bf.isMuted()){bf.unMute()}else{bf.mute()}}}bu=!bu}ax.addMethod(bD,"toggleMute",bC);function bM(){if((s==ay&&aO)||s==bt){if(ax.mouseX>bn&&ax.mouseX<seekRight&&ax.mouseY>F-10&&ax.mouseY<F+10){T=true;bD.stillWithinSeekBar=true;if((s==ay&&q.paused)||(s==bt&&bf.getPlayerState()==2)){bD.songPausedToBeginWith=true}else{bD.songPausedToBeginWith=false}if(s==ay){q.pause()}else{bf.pauseVideo()}}}}ax.addMethod(bD,"checkSeekBar",bM);function bO(){if(s==bt||(s==ay&&aO)){if(T){if(ax.mouseX>bn&&ax.mouseX<seekRight&&ax.mouseY>F-10&&ax.mouseY<F+10){var bU=0;if(s==ay){if(q!=null&&q.readyState==1){bU=q.durationEstimate}else{if(q!=null&&q.readyState==3){bU=q.duration}}var bT=ax.__int_cast(ax.map(ax.mouseX,bn,seekRight,0,bU));if(!bD.songPausedToBeginWith){q.resume()}q.setPosition(bT)}else{var bT=ax.__int_cast(ax.map(ax.mouseX,bn,seekRight,0,bf.getDuration()));bf.seekTo(bT,true);if(!bD.songPausedToBeginWith){bf.playVideo()}}}T=false;bD.stillWithinSeekBar=false;if(!bD.songPausedToBeginWith){if(s==ay){q.resume()}else{bf.playVideo()}}}}}ax.addMethod(bD,"releaseSeekBar",bO);function bI(){if(s==bt||(s==ay&&aO)){if(T){if(ax.mouseX>bn&&ax.mouseX<seekRight&&ax.mouseY>F-10&&ax.mouseY<F+10){bD.stillWithinSeekBar=true}else{bD.stillWithinSeekBar=false}}}}ax.addMethod(bD,"dragSeekBar",bI);function bJ(){ax.stroke(255);ax.strokeWeight(3);if(s==bt&&bf.getPlayerState()==-1){ax.fill(255);ax.textSize(19);ax.textAlign(ax.LEFT,ax.CENTER);ax.text("-:--/-:--",aJ-28-ap,F)}if((s==ay&&q!=null&&q.readyState==1)||s==bt&&bf.getPlayerState()==3){ax.strokeWeight(1);ax.line(bn,F,seekRight,F);ax.strokeWeight(3);var bT=0;if(s==ay){bT=ax.map(q.bytesLoaded,0,q.bytesTotal,bn,seekRight)}else{bT=ax.map(bf.getVideoBytesLoaded(),0,bf.getVideoBytesTotal(),bn,seekRight)}if(bT>=0){ax.line(bn,F,bT,F)}}else{ax.line(bn,F,seekRight,F)}if((s==ay&&q!=null&&(q.readyState==1||q.readyState==3))||(s==bt&&bf.getPlayerState()>0)){var bU=null;if(!T||!bD.stillWithinSeekBar){var bT=0;if(s==ay){if(q.readyState==1){bD.total=q.durationEstimate;bD.totTime=a8(bD.total/1000)}else{if(q.readyState==3){bD.total=q.duration;bD.totTime=a8(bD.total/1000)}}bU=a8(q.position/1000);bT=ax.map(q.position,0,bD.total,bn,seekRight)}else{if(s==bt){bD.total=bf.getDuration();bD.totTime=a8(bD.total);bU=a8(bf.getCurrentTime());bT=ax.map(bf.getCurrentTime(),0,bD.total,bn,seekRight)}}if(bT>=0){ax.line(bT,F-10,bT,F+10)}}else{ax.line(ax.mouseX,F-10,ax.mouseX,F+10);var bV=ax.map(ax.mouseX,bn,seekRight,0,bD.total);if(s==ay){bV/=1000}bU=a8(bV)}ax.fill(255);ax.textSize(15);ax.textAlign(ax.LEFT,ax.CENTER);ax.text(bU+"/"+bD.totTime,aJ-30-ap,F)}ax.strokeWeight(1)}ax.addMethod(bD,"drawSeekBar",bJ);function bE(){bB();aV=av;aJ=y;o=x-230;bi=x;ap=ax.textWidth("0:00/0:00");bn=av+95;F=x-18;bD.play=new P(av+72,F,10,10);bD.ffwd=new Y(y-20,F,10,10);aD=av+40;volY=15;volD=0.3;volS=20;seekRight=y-40-ap;ax.textSize(15)}function bN(){if(arguments.length===0){bE.apply(bD,arguments)}else{bB()}}bN.apply(null,arguments)}return bx})();ax.Current=r;var aw=(function(){function bx(){var bD=this;function bF(){ax.extendClassChain(bD)}function bC(bL){$("#popup-content").attr("src",bL);$("#popup-url").attr("href",bL);$("#center").hide();$("#popup").show()}function bI(bM){var bL="<table><tr>";$.each(bM,function(bN,bO){bL+="<td class='square-td'><div class='square' data-url='"+bO.url+"'><h2>"+bO.site+"</h2><p>"+bH(bO.text)+"</p></div></td>";if(bN==8){bL+="</tr>";return false}else{if((bN+1)%3==0){bL+="</tr><tr>"}}});$("#biographies").html(bL)}function bH(bL){return bL.substr(0,250)+"..."}function bB(bM){var bL="<table><tr>";$.each(bM,function(bN,bO){bL+="<td class='square-td'><div class='square' data-url='"+bO.url+"'><h2>"+bO.name+"</h2><p>"+bH(bO.summary)+"</p></div></td>";if(bN==8){bL+="</tr>";return false}else{if((bN+1)%3==0){bL+="</tr><tr>"}}});$("#blogs").html(bL)}function bK(bL){}function bJ(bM){var bL="<table><tr>";$.each(bM,function(bN,bO){bL+="<td class='square-td'><div class='square' data-url='"+bO.url+"'><h2>"+bO.name+"</h2><p>"+bH(bO.summary)+"</p></div></td>";if(bN==8){bL+="</tr>";return false}else{if((bN+1)%3==0){bL+="</tr><tr>"}}});$("#news").html(bL)}function bG(bM){var bL="<table><tr>";$.each(bM,function(bN,bO){bL+="<td class='square-td'><div class='square video' data-url='"+bO.url+"'><h2>"+bO.title+"</h2><img class='video-thumbnail' src='"+bO.image_url+"'></div></td>";if(bN==8){bL+="</tr>";return false}else{if((bN+1)%3==0){bL+="</tr><tr>"}}});$("#videos").html(bL)}function bA(bL){$("#center").children().css("display","none");$("#"+bL).css("display","block")}bD.canvas=document.getElementById("canvas");bD.selectDiv=document.getElementById("artist-info");bD.selectDivHeight=635;bD.selectDivWidth=1158;bD.selectDivX=9;bD.selectDivY=9;function bE(bL){bD.selectDiv.style.width=bD.selectDivWidth;bD.selectDiv.style.height=bD.selectDivHeight;bD.selectDiv.style.top=bD.selectDivY+"px";bD.selectDiv.style.zIndex=1;$("#center, #popup, #popup-nav, #popup-content").css("width",bD.selectDivWidth+"px");$("#popup-content").css("height",bD.selectDivHeight+"px");$.getJSON("http://localhost:8888/getArtistInfo?id="+bL,function(bM){bI(bM.biographies);bB(bM.blogs);bK(bM.images);bJ(bM.news);bG(bM.videos);$(".square").hover(function(){$(this).addClass("square-hover")},function(){$(this).removeClass("square-hover")}).click(function(){bC($(this).data("url"))});$("#close").click(function(){$("#artist-info").css("z-index","-1")})});$(".type").click(function(){bA($(this).data("type"));$(".type").removeClass("selected-type");$(this).addClass("selected-type");$("#popup").hide();$("#center").show()}).hover(function(){$(this).addClass("hover-type")},function(){$(this).removeClass("hover-type")});$("#popup-close").click(function(){$("#popup").hide();$("#center").show()})}ax.addMethod(bD,"showArtistInfo",bE);function by(){bF()}function bz(){if(arguments.length===0){by.apply(bD,arguments)}else{bF()}}bz.apply(null,arguments)}return bx})();ax.ArtistInfo=aw;var aO=false;var aT=null;var aX=null;var n=null;var Q=null;var D=null;var ae=null;var m=null;var ab=null;var a1=null;var z=0;var aH=1;var g=2;var M=0;var e=1;var U=2;var bw=z;var O=false;var bs=U;var a4=0;var q=null;var aq=null,ag=null;var aK=0;var C=1;var X=0,bc=0,i=0,K=0;var br=0,aU=0;var aS=0,aR=0,f=0,bl=0;var aA=0;var aG=null;var aL=0;var bo=0;var c=1;function aY(){X=ax.max(700,$(window).width());bc=ax.max(870,$(window).height());bh();var bz=ax.__split(window.location.pathname,(new ax.Character("/")));if(bz.length>0&&bz[0]!="songid"){if(bz.length<3){aG=bz[1]}else{aG=bz[3]}}p();logo=ax.loadImage("http://localhost:8888/logo");$("#parent").css("width",X).css("height",bc);if(X==700||bc==870){$("body").css("overflow","visible")}f=1920;bl=1000;aS=20;aR=30;i=30;K=0;aU=7757;br=8189;az();al=new ax.ArrayList();ax.size(X,bc);ax.frameRate(30);ax.smooth();ax.rectMode(ax.CORNERS);ax.ellipseMode(ax.CENTER_RADIUS);aO=false;aT=ax.createFont("Arial",13);ax.textFont(aT);aC();songs=new ax.ArrayList();D=new ax.HashMap();m=new A(X-aS-284,aR);ae=new r();ab=new J();aq=new Array(8);ag=new Array(8);for(var by=0;by<8;by++){aq[by]=new Array(8);ag[by]=new Array(8);for(var bx=0;bx<8;bx++){ag[by][bx]=false}}a1=new aw();w=ax.loadImage("http://localhost:8888/facebook");aB=ax.loadImage("http://localhost:8888/youtube");v=ax.loadImage("http://localhost:8888/info");bm=ax.loadImage("http://localhost:8888/heart");aj=ax.loadImage("http://localhost:8888/twitter")}ax.setup=aY;function b(by,bx){if(by!=X||bx!=bc){X=by;bc=bx;$("#parent").css("width",by).css("height",bx);i=30;K=0;ax.size(X,bc);aF=X;ak=bc;av=X-aS-284;y=X-aS;a0=ax.map(aF,0,br,0,284);aZ=ax.map(ak,0,aU,0,270);ab.setMins();aD=av+40;ae.play.newPos(av+72,F);ae.ffwd.newPos(y-20,F);bn=av+95;aD=av+40;seekRight=y-40-ap;aV=av;aJ=y}}ax.setUpSize=b;var w=null,aB=null,bk=null,v=null,bm=null,af=null,aj=null;function aC(){ax.colorMode(ax.RGB);aX=ax.createJavaArray("$p.color",[10]);n=ax.createJavaArray("$p.color",[10]);aX[0]=ax.color(255,0,0);aX[1]=ax.color(255,103,0);aX[2]=ax.color(255,182,0);aX[3]=ax.color(231,255,0);aX[4]=ax.color(0,255,18);aX[5]=ax.color(0,255,212);aX[6]=ax.color(0,104,155);aX[7]=ax.color(149,0,255);aX[8]=ax.color(248,0,255);aX[9]=ax.color(255,3,141);n[0]=ax.color(0,153,153);n[1]=ax.color(100,168,209);n[2]=ax.color(133,133,232);n[3]=ax.color(230,113,255);n[4]=ax.color(255,128,157);n[5]=ax.color(255,176,128);n[6]=ax.color(255,195,100);n[7]=ax.color(249,243,140);n[8]=ax.color(222,244,130);n[9]=ax.color(204,255,123)}ax.setUpColors=aC;function aP(){ab.draw();ax.imageMode(ax.CORNER);ax.image(logo,0,0);m.draw();ae.draw();if(aQ>-1){bv(aQ)}if(curehover>-1){a5()}}ax.draw=aP;var R=new ax.ArrayList();var au=new ax.ArrayList();var aI=new ax.ArrayList();var k=null;function bh(){R.clear();var bx="http://localhost:8888/getArtists";if(bw){bx+="&sort="+bw}$.getJSON(bx,function(bz){if(bz!=null){var bA=bz.length;for(var by=0;by<bA;by++){R.add(bz[by])}}if(bf){ar()}})}ax.setUpArtists=bh;function p(){$.getJSON("http://localhost:8888/getEvents?sponsor=all",function(by){if(by!=null){var bz=by.length;for(var bx=0;bx<bz;bx++){if(by[bx].sponsor=="culture"){au.add(by[bx])}else{aI.add(by[bx])}}}})}ax.setUpEvents=p;var G=0,E=0,bg=0,be=0;var aF=0,ak=0,a0=0,aZ=0;var aQ=-1;function a7(by,bx){var bz=null;if((by==0)||(by==1&&bx<1)){bz="0";bz+=String(by*8+bx+1)+".grid"}else{bz=String(by*8+bx+1)+".grid"}ag[by][bx]=true;aq[by][bx]=ax.loadImage("http://localhost:8888/"+bz)}ax.loadMapPiece=a7;function L(){ab.keyPressed()}ax.keyPressed=L;var ao=0,an=0,bd=0,bb=0;function bv(by){var bx=R.get(by).name;ax.textSize(18);var bz=ax.textWidth(bx);ax.stroke(aX[2]);ax.fill(0);ax.rectMode(ax.CORNERS);ax.rect(ax.mouseX,ax.mouseY-33,ax.mouseX+bz+12,ax.mouseY-7,10);ax.fill(aX[2]);ax.textAlign(ax.LEFT,ax.TOP);ax.text(bx,ax.mouseX+6,ax.mouseY-30)}ax.drawHoverInfo=bv;function a5(){var bx=null;var by=0;if(aL==c){bx=aI.get(curehover).title;by=8}else{if(aL==bo){bx=au.get(curehover).title;by=1}}ax.textSize(18);var bz=ax.textWidth(bx);ax.stroke(aX[by]);ax.fill(0);ax.rectMode(ax.CORNERS);ax.rect(ax.mouseX,ax.mouseY-33,ax.mouseX+bz+12,ax.mouseY-7,10);ax.fill(aX[by]);ax.textAlign(ax.LEFT,ax.TOP);ax.text(bx,ax.mouseX+6,ax.mouseY-30)}ax.drawEventInfo=a5;function B(){if(aQ>=0){k=R.get(aQ);aE=0;t();ac()}else{if(curehover>=0){S()}else{if(aa>=0){aE=aa;t()}}}}ax.mouseClicked=B;function ba(bx){$.getJSON("http://localhost:8888/getTrack?id="+bx,function(by){if(aO){am()}bj(by.url)})}ax.getSong=ba;function bj(bx){q=soundManager.createSound({id:bx,url:bx,autoLoad:true,autoPlay:true,volume:ad,onfinish:function(){ai()}});aO=true;if(bu){q.mute()}}ax.startSong=bj;function am(){aO=false;q.stop();q.unload();q.destruct()}ax.stopSong=am;function a2(){if(ax.mouseY<bi&&ax.mouseY>o&&ax.mouseX<aJ&&ax.mouseX>aV){ae.mousePressed()}else{if(ax.mouseX>av&&ax.mouseX<y&&ax.mouseY>at&&ax.mouseY<aA){if(ax.mouseY<x){m.mousePressed()}else{ab.miniMousePressed()}}else{ab.mousePressed()}}}ax.mousePressed=a2;function aW(){ae.mouseDragged();ab.mouseDragged();ab.miniMouseDragged()}ax.mouseDragged=aW;function I(){ab.mouseOut();ae.mouseReleased()}ax.mouseOut=I;function a(){ae.mouseReleased();ab.mouseReleased();ab.miniMouseReleased()}ax.mouseReleased=a;var h=-1;var ah=1;var d=0;var W=true;function a6(){for(var bx=songs.size()-1;bx>-1;bx--){if(bx==aa&&aO){songs.get(bx).stopSong()}songs.remove(bx)}aa=-1;q=null}ax.resetSongs=a6;function ai(){am();if(aE<k.topTracks.length-1){aE++;t()}else{bp()}}ax.createNext=ai;var al=null;function bp(){var bz=false;for(var bx=0;bx<al.size();bx++){if(al.get(bx)==k.name){bz=true;break}}if(!bz){al.add(k.name)}for(var bx=0;bx<R.size();bx++){var by=R.get(bx);if(by.x>G&&by.x<bg&&by.y>E&&by.y<be){if(!ax.__contains(al,by.name)){k=by;aE=0;t();ac()}}}}ax.nextArtist=bp;function Z(by,bx){this.length=by;this.index=bx}function j(bA,bE,bC,bD,bx,bH){if(ax.textWidth(bA)>bD){var bF=D.get(bA+ax.textWidth(bA));if(bF==null){bF=new Z(0,0);D.put(bA+ax.textWidth(bA),bF)}var bz=bF.index;var bB=bA.length;if(bF.length>=ax.textWidth(bA.charAt(bz))){if(bz<bB-1){bF.index++;bz++;bF.length=0}else{bF.index=bz=0;bF.length=-40}}var bG=ax.textWidth(bA.charAt(bz))-bF.length;bz++;while(bG<bD&&bz<bB){bG+=ax.textWidth(bA.charAt(bz));bz++}ax.text(bA.substring(bF.index,bz),bE-bF.length,bC);if(bz==bB){bG+=40;var by=0;while(bG<bD){bG+=ax.textWidth(bA.charAt(by));by++}ax.text(bA.substring(0,by),bE+ax.textWidth(bA.substring(bF.index,bz))-bF.length+40,bC)}ax.noStroke();ax.fill(0);ax.rectMode(ax.CORNERS);ax.rect(bE-ax.textWidth((new ax.Character("W"))),bC+bH,bE,bC);ax.rect(bE+bD,bC,bE+bD+ax.textWidth((new ax.Character("W"))),bC+bH);ax.fill(bx);bF.length++;D.put(bA+ax.textWidth(bA),bF)}else{ax.text(bA,bE,bC)}}ax.checkText=j;var bq=0;var u=1;var a9=0;var at=0,av=0,x=0,y=0,N=0,a3=0;var aa=-1;var aE=-1;var T=false;var ad=50;var bu=false;var ap=0,bn=0,aD=0;var aJ=0,aV=0,o=0,bi=0,F=0;function a8(bz){var by=ax.__int_cast((bz%60));var bx=ax.__int_cast(((bz%3600)/60));var bA=null;if(by==0){bA="00"}else{if(by<10){bA="0"+by}else{bA=by}}return(bx+":"+bA)}ax.makeTime=a8;function V(){if(aE<k.topTracks.length-1){aE++;t()}else{bp()}}ax.videoEnded=V;function az(){$("#ytplayer").html('<script type="text/javascript">var params = { allowScriptAccess: "always" };var atts = { id: "YouTubeP" };swfobject.embedSWF("http://www.youtube.com/apiplayer?enablejsapi=1&version=3", "ytplayer", "283", "200", "8", null, null, params, atts);<\/script>')}ax.togglePlayer=az;var bf=null;var s=false;var ay=1;var bt=2;function aM(){bf=document.getElementById("YouTubeP");s=bt;bf.setVolume(ad);if(R.size()>0){ar()}}ax.prepPlayer=aM;function ar(){var bA=ax.__split(window.location.pathname,(new ax.Character("/")));var bz=null,bB=null;if(bA[1]=="song"){bz=bA[2];bB=bA[3]}else{bz="ARLGIX31187B9AE9A0"}for(var by=0;by<R.size();by++){if(R.get(by).RID==bz){k=R.get(by);if(bB){for(var bx=0;bx<k.topTracks.length;bx++){if(k.topTracks[bx].RID==bB){aE=bx;t();ac();bd=ax.map(k.x,531.749,531.749+853,0,br);bb=ax.map(k.y,231.083,231.083+810,0,aU);ao=ax.map(bd,0,br,0,284);an=ax.map(bb,0,aU,0,270);ab.setMins();break}}}else{aE=0;t();ac()}break}}}ax.startMusic=ar;function S(){if(aL==c){bf.loadVideoById(aI.get(curehover).link)}else{if(aL==bo){bf.loadVideoById(au.get(curehover).link)}}}ax.loadEventVideo=S;function t(){if(k.topTracks[aE].video_id){bf.loadVideoById(k.topTracks[aE].video_id);updateToolbox(k.topTracks[aE].RID,k.RID,k.topTracks[aE].title,k.name)}else{$("#ytplayer").html("<p>Couldn't find this song on YouTube</p>")}}ax.loadVideo=t;function aN(bx,bB){var bA=null;if(bx==k.RID){bA=false}else{bA=true}for(var bz=0;bz<R.size();bz++){if(bx==R.get(bz).RID){k=R.get(bz);bd=ax.map(k.x,531.749,531.749+853,0,br);bb=ax.map(k.y,231.083,231.083+810,0,aU);ao=ax.map(bd,0,br,0,284);an=ax.map(bb,0,aU,0,270);ab.setMins();if(bB){for(var by=0;by<k.topTracks.length;by++){if(k.topTracks[by].RID==bB){aE=by;t();if(bA){ac()}}}}else{aE=0;t();if(bA){ac()}}}}}ax.playSong=aN;function ac(){$.getJSON("http://localhost:8888/getBio?id="+k.RID,function(bx){if(bx!=null){$("div#biolog").html("<b>"+k.name+"</b><br /><p>"+bx.text+'<br /><br />Source: <a href="'+bx.url+'">Wikipedia</a></p>');$("div#biolog",window.parent.document).scrollTop(0)}});if(!$("div#biolog").dialog("isOpen")){$("div#biolog").dialog("open")}}ax.prepareBio=ac;function H(){$.ajax({type:"GET",dataType:"jsonp",url:"http://gdata.youtube.com/feeds/api/videos?q="+ax.__replace(k.topTracks[aE].title,/ /g,(new ax.Character("+")))+"+"+ax.__replace(k.name,/ /g,(new ax.Character("+")))+"&v=2&alt=jsonc&max-results=1&format=5",success:function(by){if(by.data.items.length>0){var bx=by.data.items[0].id;$("#ytplayer").html('<script type="text/javascript">var params={allowScriptAccess:"always"};var atts={id:"YouTubeP"};var url="http://www.youtube.com/v/'+bx+'?enablejsapi=1&playerapiid=YouTubeP&version=3&autoplay=1&controls=1";swfobject.embedSWF(url,"ytplayer","350","300","8",null,null,params,atts);<\/script>')}else{$("#ytplayer").html("<p>Couldn't find this song on YouTube</p>")}}})}ax.oldloadVideo=H}))     
});
</script>
    <script type="text/javascript">
      var userid = '-1';
      var accessToken = null;
      
      $(function() { //initiator constructor
        $('#overlay').dialog({
          autoOpen: false,
          width: 'auto',
          show: 'fade',
          hide: 'fade',
          maxHeight: '500',
          close: function(event, ui) {
            $('this').html("");
            $('#show-favs').unbind().html("Favs").click(function() { showAndFillOverlay(); });
          }
        });
        $('#show-favs').click(function() { showAndFillOverlay(); });
      });
      
      function showAndFillOverlay(sortBy, order) {  // shows favorite box and loads the favorites
        if(userid == null) {
          alert("Please log in to Facebook");
        } else {
          $.get('http://localhost:8888/seeSongs', {"userid": userid, "sortBy": sortBy, "order": order}, function(data) {
            $('#overlay').html(data).dialog('open');
            $('#show-favs').unbind().click(function() {
              $('#overlay').dialog('close');
            });
          });
        }
      }
      
      function toggleFav(element, id) { //toggle favs
        if(userid == null) {
          alert("Please login to Facebook");
        } else {
          if(($(element).html().indexOf("greyHeart") > -1)) { // simulate xor with rev to reverse value
            $(element).html("<img src=\"http://localhost:8888/heart.svg\" width=\"20\" height=\"20\" border=\"0\" /\>");
            $.get('http://localhost:8888/addSong', { "songid": id, "userid": userid });
          } else {
            $(element).html("<img src=\"http://localhost:8888/greyHeart.svg\" width=\"20\" height=\"20\" border=\"0\" /\>");
            $.get('http://localhost:8888/removeSong', { "songid": id, "userid": userid });
          }
        }
      }
      
      function playSong(artist, fullid){
        var splitid = fullid.split(' ');
        var p = Processing.getInstanceById('canvas');
        if(artist) p.playSong(splitid[0],0);
        else p.playSong(splitid[0],splitid[1]);
      }
      
      function updateToolbox(songid, artistid, songName, artistName) {   // updates toolbox
        if(userid != null) {
          $.get('http://localhost:8888/isFav', {'songid': artistid + ' ' + songid, 'userid':userid}, function(data) {
            if(data.value) {
              $('#toolbox-favLink').html("<img src=\"http://localhost:8888/heart.svg\" width=\"20\" height=\"20\" border=\"0\" /\>");
            } else {
              $('#toolbox-favLink').html("<img src=\"http://localhost:8888/greyHeart.svg\" width=\"20\" height=\"20\" border=\"0\" /\>");
            }
            $('#toolbox-favLink').unbind().click(function() {
              toggleFav($('#toolbox-favLink'), artistid+' '+songid);
            });
          });
        } else {
          $('#toolbox-favLink').html("<img src=\"http://localhost:8888/greyHeart.svg\" width=\"20\" height=\"20\" border=\"0\" /\>").unbind().click(function() {
            alert("Please login to Facebook");
          });
        }
        // Twitter
        !function(d,s,id){var js,fjs=d.getElementsByTagName(s)[0];if(!d.getElementById(id)){js=d.createElement(s);js.id=id;js.src="//platform.twitter.com/widgets.js";fjs.parentNode.insertBefore(js,fjs);}}(document,"script","twitter-wjs");
        $('#toolbox-twitter').attr('data-text'/*text of tweet*/, "I'm listening to " + songName + " by " + artistName + " at localhost:8888!");
        $("#fbLikeContainer").html('<div class="fb-like" data-href="http://localhost:8888/song/'+artistid+'/'+songid+ '" data-send="false" data-layout="button_count" data-width="450" data-show-faces="false" data-action="recommend" data-colorscheme="dark"></div>');
        document.title = "RapCities Pre-Alpha - " + artistName + ' - - ' + songName;
        window.history.pushState(songName,null, "http://localhost:8888/song/"+artistid+"/"+songid);
        FB.XFBML.parse(document.getElementById('fbLikeContainer'));
      }
      
      function showToolbox(){
        $('#toolbox').css('display', 'inline-block');
      }
      
      function hideToolbox() {
        $('#toolbox').css('display', 'none');
      }
      
	  function showLegal(number){
		$("div#legalDialog").dialog("open");
		switch(number){
			case 0: $("div#legalDialog").html($('#DMCA').html());
		  	$('div#legalDialog', window.parent.document).scrollTop(0);
			break;	 
		case 1: $("div#legalDialog").html($('#TOS').html());
	  	$('div#legalDialog', window.parent.document).scrollTop(0);
	break;
	case 2: $("div#legalDialog").html($('#PP').html());
  	$('div#legalDialog', window.parent.document).scrollTop(0);
break;
/*			tos
			priv*/
		}
	  }
	
      function fbAuthHandler(response) {
        if (response.status === 'connected') {
          accessToken = response.authResponse.accessToken;
          $.get('http://localhost:8888/fbCreate', {"fbid": response.authResponse.userID, "accessToken": accessToken}, function(data) {
            if(data.response == "success") {
              userid = data.value;
              $('#fbLoginSpan').css('display', 'none');
              //showToolbox();
            }
          });
        } else {
          userid = null;
          accessToken = null;
          $('#fbLoginSpan').css('display', 'inline');
        }
      }
    </script>
	<script type="text/javascript">
		function onYouTubePlayerReady(playerId){	document.getElementById('YouTubeP').addEventListener("onStateChange","onytplayerStateChange");
		Processing.getInstanceById('canvas').prepPlayer();	
		}
		
		function onytplayerStateChange(newState) {
		   if(newState == 0){
			Processing.getInstanceById('canvas').videoEnded();
		   }
		}	
	</script>
	<script>
	$(document).ready(function() {
		$("div#biolog").dialog({
			autoOpen: false,
			resizable: false,
			height: 360,
			width: 385,
			position: ['left','bottom']
		});
		$("div#legalDialog").dialog({
			autoOpen: false,
			resizable: false,
			height: 500,
			width: 500,
			modal:true
		});
	});
	
	$(window).resize(function(){
		if($(window).width() < 700 || $(window).height() < 870){
			var p = Processing.getInstanceById('canvas');
			p.setUpSize(Math.max($(window).width(),700),Math.max(870,$(window).height()));
			//$("#dialogWindow").css("position","fixed");
			$("body").css("overflow","visible");
		}
		else{
			var p = Processing.getInstanceById('canvas');
			p.setUpSize($(window).width(),$(window).height());
			$("body").css("overflow","hidden");
			$("#parent").css("width",$(window).width()).css("height",$(window).height());
		}
	});
	</script>
  </head>
  <body>
    <div id="fb-root"></div>
    <script>
      window.fbAsyncInit = function() {
        FB.init({
          appId      : '134659439991720', // App ID
          channelUrl : '//localhost:8888/channel.html', // Channel File
          status     : true, // check login status
          cookie     : true // enable cookies to allow the server to access the session
          ,xfbml      : true  // parse XFBML
        });
        
        FB.getLoginStatus(fbAuthHandler);
        FB.Event.subscribe('auth.authResponseChange', fbAuthHandler);
      };

      // Load the SDK Asynchronously
      (function(d){
         var js, id = 'facebook-jssdk', ref = d.getElementsByTagName('script')[0];
         if (d.getElementById(id)) {return;}
         js = d.createElement('script'); js.id = id; js.async = true;
         js.src = "//connect.facebook.net/en_US/all.js";
         ref.parentNode.insertBefore(js, ref);
       }(document));
    </script>
    
    <div id="overlay" title="Favourites"></div>

    <div id="parent">
      
      <canvas id="canvas">
        <font size="10" color="white">Your browser doesn't support HTML5! Please
          and use the latest version of Mozilla Firefox or Google Chrome.</font>
      </canvas>
	<div id="dialogWindow">
		<div id="ytplayer">
			<p>Loading Site <br /> <br /> If it takes forever, you probably don't have Flash Player 8+ and/or JavaScript enabled.</p>

		</div>
	</div>
	<div id="PP" style="display:none"><b>Your privacy is important to us!</b><br />Rapcities stores information that we collect through cookies, log files, and clear gifs to create a "profile" of your preferences. This statistical information may be used to help Rapcities provide tailored services and to improve the content of the site for you.  Giving us your personal data on this site is completely optional and will require you to setup an account with a password and an email address. You may also submit additional personal information (including data on your profile and on message boards). Please remember that any information you submit becomes public information that can be viewed by others.  The Publish Playback feature allows users who are logged into their Rapcities accounts to share playlist data information from the Rapcities Player. By default, the Publish Playback feature is enabled for users who have logged into the Rapcities Player. Users may opt out of this feature by disabling Publish Playback in the Rapcities Player settings menu. With Rapcities Web Player, Publish Playback is always on, however, users may logout to avoid attributing plays to their account.  We may use the email address provided by you to contact you from time to time about offers, or other related services. We will NOT share your personally identifiable information (email address, first or last name, etc.) with ANY third-party or partner unless you explicitly request us to do so.  The Rapcities service may display links to third party sites. We advise you to check their terms of use and privacy policies before submitting your personal information to them.  Google, a third party vendor, may use cookies to serve advertisements on the Rapcities site. Google's use of the DART cookie enables it to serve ads to our users based on their visit to our site and other sites on the Internet. Users may opt out of the use of the DART cookie by visiting the Google ad and content network privacy policy.  We partner with ValueClick to serve ads and/or collect certain information when you visit our website. ValueClick may use cookies or web beacons to collect non-personally identifiable information during your visit to this website in order to help show advertisements on other websites likely to be more interesting to you. To learn more about this "behavioral advertising" practice or to opt-out of this use of your anonymous information, you can visit http://valueclickmedia.com/member_privacy.shtml</div>
	<div id="TOS" style="display:none"><b>Your Acceptance</b><br />By using and/or visiting this website, including all content and functionality available through the localhost:8888 domain name, the Rapcities Website, Rapcities Player, Rapcities Encoder, other software, Website, or collectively “Rapcities”, you signify your agreement to these terms and conditions (the "Terms of Service"), and Rapcities’ privacy policy, found at http://www. localhost:8888/privacypolicy.php incorporated here by reference, and any License agreements for software from Rapcities Inc., including but not limited to the Rapcities Player and Encoder, which you choose to install on your computer. If you do not agree to any of these terms, the Rapcities privacy notice, or the applicable software license agreements, please do not use Rapcities.  Although we may attempt to notify you when major changes are made to these Terms of Service, you should periodically review the most up-to-date version available on http://www. localhost:8888/tos.php. Rapcities may, in its sole discretion, modify or revise these Terms of Service and policies at any time, and you agree to be bound by such modifications or revisions. Nothing in this Agreement shall be deemed to confer any third-party rights or benefits.  Rapcities does not host any audio, video, or collectively "multimedia" files. Rapcities aggregates certain content from the YouTube API. You need to become familiar with and agree to the YouTube terms of service notice found at http://www.youtube.com/t/terms, the YouTube privacy notice found at http://www.youtube.com/t/privacy and the YouTube Community Guidelines found at http://www.youtube.com/t/community_guidelines before using Rapcities.   These Terms of Service apply to all users of Rapcities, including users who are also contributors of multimedia content, information, and other materials or services on Rapcities. Rapcities includes the website and all other aspects, including but not limited to all products, software and services.  Rapcities may contain links to third party websites that are not owned or controlled by Rapcities. Rapcities has no control over, and assumes no responsibility for, the content, privacy policies, or practices of any third party websites. In addition, Rapcities will not and cannot censor or edit the content of any third-party site. By using Rapcities, you expressly relieve Rapcities from any and all liability arising from your use of any third-party website. Accordingly, we encourage you to read the terms and conditions and privacy policy of each other website that you visit.  You understand that when using the Rapcities Website, you will be exposed to User Submissions from a variety of sources, and that Rapcities is not responsible for the accuracy, usefulness, safety, or intellectual property rights of or relating to such User Submissions. You further understand and acknowledge that you may be exposed to User Submissions that are inaccurate, offensive, indecent, or objectionable, and you agree to waive, and hereby do waive, any legal or equitable rights or remedies you have or may have against Rapcities with respect thereto, and agree to indemnify and hold Rapcities, its Owners/Operators, affiliates, and/or licensors, harmless to the fullest extent allowed by law regarding all matters related to your use of the site.  You are responsible for any activity that occurs under your IP and/or User name. You are responsible for keeping your password secure. Rapcities will not be liable for your losses caused by any unauthorized use of your account; you may be liable for the losses of Rapcities or others due to such unauthorized use. You may not use Rapcities for any illegal or unauthorized purpose. All users agree to comply with all local laws regarding online conduct and acceptable content. You are solely responsible for your conduct and any data, text, information, screen names, graphics, photos, audio, videos, profiles, links (“content”) that you submit, post, and display on “Rapcities”, the localhost:8888 website, or other services including but not limited to the Rapcities Player. You agree not to circumvent, disable or otherwise interfere with security-related features of the Rapcities Website or features that prevent or restrict use or copying of any Content or enforce limitations on use of the Rapcities Website or the Content therein. You must not, in the use of Rapcities, violate any laws in your jurisdiction, or national, and international laws and regulations (including but not limited to copyright laws). Rapcities reserves the right to discontinue any aspect of our services at any time. Rapcities will terminate a User's access to its Website if, under appropriate circumstances, they are determined to be a repeat infringer.  <br /><b>Digital Millennium Copyright Act - YouTube Content ("On-Demand")</b><br />		All On-Demand streaming music, audio, video content and related services accessed through Rapcities are stored on YouTube’s servers, aggregated through the YouTube API and streamed through the YouTube chromeless player. YouTube LLC is fully compliant with the laws of the Digital Millennium Copyright Act.  A. If you are a copyright owner or an agent thereof and believe that any User Submission or other content infringes upon your copyrights, you may submit a notification pursuant to the Digital Millennium Copyright Act ("DMCA") by providing our Copyright Agent with the following information in writing (see 17 U.S.C 512(c)(3) for further detail):   * A physical or electronic signature of a person authorized to act on behalf of the owner of an exclusive right that is allegedly infringed;  * Identification of the copyrighted work claimed to have been infringed, or, if multiple copyrighted works at a single online site are covered by a single notification, a representative list of such works at that site;  * Identification of the material that is claimed to be infringing or to be the subject of infringing activity and that is to be removed or access to which is to be disabled and information reasonably sufficient to permit the service provider to locate the material;  * Information reasonably sufficient to permit the service provider to contact you, such as an address, telephone number, and, if available, an electronic mail;  * A statement that you have a good faith belief that use of the material in the manner complained of is not authorized by the copyright owner, its agent, or the law; and  * A statement that the information in the notification is accurate, and under penalty of perjury, that you are authorized to act on behalf of the owner of an exclusive right that is allegedly infringed.   YouTube's designated Copyright Agent to receive notifications of claimed infringement is: Heather Gillette, 901 Cherry Ave., San Bruno, CA 94066, email: copyright@youtube.com, fax: 650-872-8513. For clarity, only DMCA notices should go to the Copyright Agent; any other feedback, comments, requests for technical support, and other communications should be directed to YouTube customer service through http://www.google.com/support/youtube. You acknowledge that if you fail to comply with all of the requirements of this Section, your DMCA notice may not be valid.  B. Counter-Notice. If you believe that your User Submission that was removed (or to which access was disabled) is not infringing, or that you have the authorization from the copyright owner, the copyright owner's agent, or pursuant to the law, to post and use the content in your User Submission, you may send a counter-notice containing the following information to the Copyright Agent:   * Your physical or electronic signature;  * Identification of the content that has been removed or to which access has been disabled and the location at which the content appeared before it was removed or disabled;  * A statement that you have a good faith belief that the content was removed or disabled as a result of mistake or a misidentification of the content; and  * Your name, address, telephone number, and e-mail address, a statement that you consent to the jurisdiction of the federal court in San Francisco, California, and a statement that you will accept service of process from the person who provided notification of the alleged infringement.   If a counter-notice is received by the Copyright Agent, YouTube may send a copy of the counter-notice to the original complaining party informing that person that it may replace the removed content or cease disabling it in 10 business days. Unless the copyright owner files an action seeking a court order against the content provider, member or user, the removed content may be replaced, or access to it restored, in 10 to 14 business days or more after receipt of the counter-notice, at YouTube's sole discretion.  <b><br />Digital Millennium Copyright Act - Other Content ("Non-YouTube")</b><br />Rapcities does not store any audio-visual content for streaming or downloading on our servers. The Rapcities website, forums and software may contains links to user-submitted audio-visual content stored on third party servers. Rapcities Inc. is fully compliant with the laws of the Digital Millennium Copyright Act.  Please note that any claims against YouTube-related content must be made to YouTube itself (See Digital Millennium Copyright Act – YouTube Content  above for details). Any DMCA claims sent to Rapcities that pertain to YouTube content will be ignored.   If you believe that your work has been copied in a way that constitutes copyright infringement, or that your intellectual property rights have been otherwise violated, please provide a written document by regular Postal mail with the instructions given below. Rapcities will take all necessary actions to remove/delete material/links claimed to be the subject of infringing activity.  Understand that you will be held liable for damages if you falsify any activity, mislead or misrepresent yourself as the rightful copyright owner or representative thereof.  In the DMCA complaint claim please include the following in English:  * Describe and identify the copyrighted work claimed to have been infringed, or, if multiple copyrighted works at a single online site are covered by a single notification, a representative list of such works at that site.  * A description of where the material that you claim is infringing is located within the Rapcities site/software, with enough detail that we are able to locate it. * Include your name, phone number, postal address, email address and any other company/record label information. * Sign the document with your legal name. * Understand, upon signing this document, you claim to be the owner of the copyrighted piece that is being infringed upon or are authorized to act on behalf of the owner of the copyright or other intellectual property interest.  Send the letter to the following address:  Rapcities Inc.  Attn: DMCA Complaints 16 Chauncy St. #52 Cambridge, MA 02138   <br /><b>Warranty Disclaimer</b><br />YOU AGREE THAT YOUR USE OF RAPCITIES SHALL BE AT YOUR SOLE RISK. TO THE FULLEST EXTENT PERMITTED BY LAW, RAPCITIES, ITS OFFICERS, DIRECTORS, EMPLOYEES, AND AGENTS DISCLAIM ALL WARRANTIES, EXPRESS OR IMPLIED, IN CONNECTION WITH RAPCITIES AND YOUR USE THEREOF. RAPCITIES MAKES NO WARRANTIES OR REPRESENTATIONS ABOUT THE ACCURACY OR COMPLETENESS OF THIS SITE'S CONTENT OR THE CONTENT OF ANY SITES LINKED TO THIS SITE AND ASSUMES NO LIABILITY OR RESPONSIBILITY FOR ANY (I) ERRORS, MISTAKES, OR INACCURACIES OF CONTENT, (II) PERSONAL INJURY OR PROPERTY DAMAGE, OF ANY NATURE WHATSOEVER, RESULTING FROM YOUR ACCESS TO AND USE OF OUR WEBSITE, PLAYER, ENCODER, OR OTHER RAPCITIES SERVICES. (III) ANY UNAUTHORIZED ACCESS TO OR USE OF OUR SECURE SERVERS AND/OR ANY AND ALL PERSONAL INFORMATION AND/OR FINANCIAL INFORMATION STORED THEREIN, (IV) ANY INTERRUPTION OR CESSATION OF TRANSMISSION TO OR FROM OUR WEBSITE, (IV) ANY BUGS, VIRUSES, TROJAN HORSES, OR THE LIKE WHICH MAY BE TRANSMITTED TO OR THROUGH OUR WEBSITE BY ANY THIRD PARTY, AND/OR (V) ANY ERRORS OR OMISSIONS IN ANY CONTENT OR FOR ANY LOSS OR DAMAGE OF ANY KIND INCURRED AS A RESULT OF THE USE OF ANY CONTENT POSTED, EMAILED, TRANSMITTED, OR OTHERWISE MADE AVAILABLE VIA THE RAPCITIES WEBSITE, PLAYER, ENCODER, OR SOFTWARE, OR OTHER RAPCITIES SERVICES. RAPCITIES DOES NOT WARRANT, ENDORSE, GUARANTEE, OR ASSUME RESPONSIBILITY FOR ANY PRODUCT OR SERVICE ADVERTISED OR OFFERED BY A THIRD PARTY THROUGH THE RAPCITIES WEBSITE, PLAYER, ENCODER, OR SOFTWARE, OR OTHER RAPCITIES SERVICES, OR ANY HYPERLINKED WEBSITE OR FEATURED IN ANY BANNER OR OTHER ADVERTISING, AND RAPCITIES WILL NOT BE A PARTY TO OR IN ANY WAY BE RESPONSIBLE FOR MONITORING ANY TRANSACTION BETWEEN YOU AND THIRD-PARTY PROVIDERS OF PRODUCTS OR SERVICES. AS WITH THE PURCHASE OF A PRODUCT OR SERVICE THROUGH ANY MEDIUM OR IN ANY ENVIRONMENT, YOU SHOULD USE YOUR BEST JUDGMENT AND EXERCISE CAUTION WHERE APPROPRIATE.  <br /><b>Limitation of Liability</b><br />IN NO EVENT SHALL RAPCITIES, ITS OFFICERS, DIRECTORS, EMPLOYEES, OR AGENTS, BE LIABLE TO YOU FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, PUNITIVE, OR CONSEQUENTIAL DAMAGES WHATSOEVER RESULTING FROM ANY (I) ERRORS, MISTAKES, OR INACCURACIES OF CONTENT, (II) PERSONAL INJURY OR PROPERTY DAMAGE, OF ANY NATURE WHATSOEVER, RESULTING FROM YOUR ACCESS TO AND USE OF OUR WEBSITE, SOFTWARE, PLAYER, ENCODER, OR OTHER RAPCITIES SERVICES. (III) ANY UNAUTHORIZED ACCESS TO OR USE OF OUR SECURE SERVERS AND/OR ANY AND ALL PERSONAL INFORMATION AND/OR FINANCIAL INFORMATION STORED THEREIN, (IV) ANY INTERRUPTION OR CESSATION OF TRANSMISSION TO OR FROM OUR WEBSITE, (IV) ANY BUGS, VIRUSES, TROJAN HORSES, OR THE LIKE, WHICH MAY BE TRANSMITTED TO OR THROUGH OUR WEBSITE BY ANY THIRD PARTY, AND/OR (V) ANY ERRORS OR OMISSIONS IN ANY CONTENT OR FOR ANY LOSS OR DAMAGE OF ANY KIND INCURRED AS A RESULT OF YOUR USE OF ANY CONTENT POSTED, EMAILED, TRANSMITTED, OR OTHERWISE MADE AVAILABLE VIA THE RAPCITIES WEBSITE, PLAYER, ENCODER, OR SOFTWARE, OR OTHER RAPCITIES SERVICES, WHETHER BASED ON WARRANTY, CONTRACT, TORT, OR ANY OTHER LEGAL THEORY, AND WHETHER OR NOT THE COMPANY IS ADVISED OF THE POSSIBILITY OF SUCH DAMAGES. THE FOREGOING LIMITATION OF LIABILITY SHALL APPLY TO THE FULLEST EXTENT PERMITTED BY LAW IN THE APPLICABLE JURISDICTION. YOU SPECIFICALLY ACKNOWLEDGE THAT RAPCITIES SHALL NOT BE LIABLE FOR USER SUBMISSIONS OR THE DEFAMATORY, OFFENSIVE, OR ILLEGAL CONDUCT OF ANY THIRD PARTY AND THAT THE RISK OF HARM OR DAMAGE FROM THE FOREGOING RESTS ENTIRELY WITH YOU.  The Website is controlled and offered by Rapcities from its facilities in the United States of America. Rapcities makes no representations that the Rapcities Website is appropriate or available for use in other locations. Those who access or use the Rapcities Website from other jurisdictions do so at their own volition and are responsible for compliance with local law.  <br /><b>Indemnity</b><br />You agree to defend, indemnify and hold harmless Rapcities, its officers, directors, employees and agents, from and against any and all claims, damages, obligations, losses, liabilities, costs or debt, and expenses (including but not limited to attorney's fees) arising from: (i) your use of and access to the Rapcities Website, Player, Encoder, software, or other Rapcities services; (ii) your violation of any term of these Terms of Service; (iii) your violation of any third party right, including without limitation any copyright, property, or privacy right; or (iv) any claim that one of your User Submissions caused damage to a third party. This defense and indemnification obligation will survive these Terms of Service and your use of the Rapcities Website.  <br /><b>Ability to Accept Terms of Service</b><br />You affirm that you are either more than 18 years of age, or an emancipated minor, or possess legal parental or guardian consent, and are fully able and competent to enter into the terms, conditions, obligations, affirmations, representations, and warranties set forth in these Terms of Service, and to abide by and comply with these Terms of Service. In any case, you affirm that you are over the age of 13, as the Rapcities Website is not intended for children under 13. If you are under 13 years of age, then please do not use the Rapcities Website. <br /><b>Assignment</b><br />These Terms of Service, and any rights and licenses granted hereunder, may not be transferred or assigned by you, but may be assigned by Rapcities without restriction.</div>
	<div id="DMCA" style="display:none">	<b>Digital Millennium Copyright Act - YouTube Content ("On-Demand")</b><br />All On-Demand streaming music, audio, video content and related services accessed through Rapcities is stored on YouTube’s servers, aggregated through the YouTube API and streamed through the YouTube chromeless player. YouTube LLC is fully compliant with the laws of the Digital Millennium Copyright Act.  A. If you are a copyright owner or an agent thereof and believe that any User Submission or other content infringes upon your copyrights, you may submit a notification pursuant to the Digital Millennium Copyright Act ("DMCA") by providing our Copyright Agent with the following information in writing (see 17 U.S.C 512(c)(3) for further detail):   * A physical or electronic signature of a person authorized to act on behalf of the owner of an exclusive right that is allegedly infringed;  * Identification of the copyrighted work claimed to have been infringed, or, if multiple copyrighted works at a single online site are covered by a single notification, a representative list of such works at that site;  * Identification of the material that is claimed to be infringing or to be the subject of infringing activity and that is to be removed or access to which is to be disabled and information reasonably sufficient to permit the service provider to locate the material;  * Information reasonably sufficient to permit the service provider to contact you, such as an address, telephone number, and, if available, an electronic mail;  * A statement that you have a good faith belief that use of the material in the manner complained of is not authorized by the copyright owner, its agent, or the law; and  * A statement that the information in the notification is accurate, and under penalty of perjury, that you are authorized to act on behalf of the owner of an exclusive right that is allegedly infringed.   YouTube's designated Copyright Agent to receive notifications of claimed infringement is: Heather Gillette, 901 Cherry Ave., San Bruno, CA 94066, email: copyright@youtube.com, fax: 650-872-8513. For clarity, only DMCA notices should go to the Copyright Agent; any other feedback, comments, requests for technical support, and other communications should be directed to YouTube customer service through http://www.google.com/support/youtube. You acknowledge that if you fail to comply with all of the requirements of this Section, your DMCA notice may not be valid.  B. Counter-Notice. If you believe that your User Submission that was removed (or to which access was disabled) is not infringing, or that you have the authorization from the copyright owner, the copyright owner's agent, or pursuant to the law, to post and use the content in your User Submission, you may send a counter-notice containing the following information to the Copyright Agent:   * Your physical or electronic signature;  * Identification of the content that has been removed or to which access has been disabled and the location at which the content appeared before it was removed or disabled;  * A statement that you have a good faith belief that the content was removed or disabled as a result of mistake or a misidentification of the content; and  * Your name, address, telephone number, and e-mail address, a statement that you consent to the jurisdiction of the federal court in San Francisco, California, and a statement that you will accept service of process from the person who provided notification of the alleged infringement.   If a counter-notice is received by the Copyright Agent, YouTube may send a copy of the counter-notice to the original complaining party informing that person that it may replace the removed content or cease disabling it in 10 business days. Unless the copyright owner files an action seeking a court order against the content provider, member or user, the removed content may be replaced, or access to it restored, in 10 to 14 business days or more after receipt of the counter-notice, at YouTube's sole discretion. <br /><b>Digital Millennium Copyright Act - Other Content ("Non-YouTube")</b><br />Rapcities does not store any audio-visual content for streaming or downloading on our servers. The Rapcities website, forums and software may contains links to user-submitted audio-visual content stored on third party servers. Rapcities Inc. is fully compliant with the laws of the Digital Millennium Copyright Act. <br />Please note that any claims against YouTube-related content must be made to YouTube itself (See Digital Millennium Copyright Act – YouTube Content  above for details). Any DMCA claims sent to Rapcities that pertain to YouTube content will be ignored. <br />If you believe that your work has been copied in a way that constitutes copyright infringement, or that your intellectual property rights have been otherwise violated, please provide a written document by regular Postal mail with the instructions given below. Rapcities will take all necessary actions to remove/delete material/links claimed to be the subject of infringing activity.  <br /><i>Understand that you will be held liable for damages if you falsify any activity, mislead or misrepresent yourself as the rightful copyright owner or representative thereof.</i><br />In the DMCA complaint claim please include the following in English:<br />  * Describe and identify the copyrighted work claimed to have been infringed, or, if multiple copyrighted works at a single online site are covered by a single notification, a representative list of such works at that site.  * A description of where the material that you claim is infringing is located within the Rapcities site/software, with enough detail that we are able to locate it. * Include your name, phone number, postal address, email address and any other company/record label information. * Sign the document with your legal name. * Understand, upon signing this document, you claim to be the owner of the copyrighted piece that is being infringed upon or are authorized to act on behalf of the owner of the copyright or other intellectual property interest.  Send the letter to the following address: <br /><br />Rapcities Inc.<br />Attn: DMCA Complaints<br />16 Chauncy St. #52<br />Cambridge, MA 02138	</div>
	<div id="biolog" title="Artist Biography"></div>
	<div id="legalDialog" title="Legal"></div>
	<div id="legalbottom">&copy; 2012 Rapcities Inc. All Rights Reserved. On-demand content powered by YouTube. | <a href="javascript:void(0)" onclick="showLegal(0)">DMCA</a> | <a href="javascript:void(0)" onclick="showLegal(1)">Terms of Service</a> | <a href="javascript:void(0)" onclick="showLegal(2)">Privacy Policy</a> </div>
    <div id="login-block">
      <div id="toolbox">
        <a href="javascript:void(0)" id="toolbox-favLink"><img src="http://localhost:8888/heart.svg" height="20" width="20" /></a>
	<a href="javascript:void(0);" id="show-favs"><img src="http://localhost:8888/heartbasket.png"></a>
        <a href="https://twitter.com/share" id="toolbox-twitter" class="twitter-share-button" data-lang="en" data-count="none">Tweet</a>
        <div id="fbLikeContainer"> <div class="fb-like" data-href="http://localhost:8888" data-send="false" data-layout="button_count" data-width="450" data-show-faces="false" data-action="recommend" data-colorscheme="dark"></div></div>
      </div>
      <span id="fbLoginSpan"><div class="fb-login-button" data-show-faces="false" data-width="200" data-max-rows="1"></div></span></div>

      <div id='artist-info'>
        <div id="top">
          <div class='type' data-type='biographies'>Biographies</div>
          <div class='type' data-type='blogs'>Blogs</div>
          <div class='type' data-type='images'>Images</div>
          <div class='type' data-type='news'>News</div>
          <div class='type' data-type='videos'>Videos</div>
          <div class='type' id='close'>Close</div>
          <div class='clear'></div>
        </div>
        <div id="center">
          <div id="biographies"></div>
          <div id="blogs"></div>
          <div id="images"></div>
          <div id="news"></div>
          <div id="videos"></div>
        </div>
        <div id="popup">
          <div id="popup-nav">
            <a id="popup-close" href="#">Close</a>
            <a id="popup-url" href="#">Go to site</a>
          </div>
          <iframe id="popup-content" src="">
        </div>
        <div class="clear"></div>
      </div>
    </div>
  </body>
</html>
