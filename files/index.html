<html>
  <head>
    <title>RapCities</title>
    <script type="text/javascript" src="processing-1.3.6.min.js"></script>
    <script type="text/javascript" src="https://ajax.googleapis.com/ajax/libs/jquery/1.7.1/jquery.min.js"></script>
	    <script type="text/javascript" src="soundmanager2.js"></script>
    <script type="text/javascript" src="http://xe-widgets.googlecode.com/svn-history/r10/trunk/widgets/xe_banner/skins/bannerSlider/js/slides.jquery.js"></script>
	<script type="text/javascript" src="https://ajax.googleapis.com/ajax/libs/swfobject/2.2/swfobject.js"></script>
	<script type="text/javascript" src="https://ajax.googleapis.com/ajax/libs/jqueryui/1.8.18/jquery-ui.min.js"></script>
	<link rel="stylesheet" type="text/css" href="jquery-ui-1.8.18.custom.css" />
    <link rel='stylesheet' src="http://slidesjs.com/examples/images-with-captions/css/global.css">
    <style type="text/css">
      body {
        background-color: black;
        color: white;
		margin:0px;overflow:hidden;
      }
      h2 {
        font-size: 16px;
      }
      #canvas {
        /*width: 1158px;
        height: 635px;*/
        position: absolute;
        z-index: 0;
		/*left: 50%;
		margin-left:-479px;*/
		/*margin: auto;*/
      }
      #artist-info {
        position: absolute;
        z-index: -1;
        background-color: black;
        font: 15px Verdana, sans-serif;
		left: 50%;
		margin-left:-479px;
      }
      #top  {
        width: 700px;
        margin: 0 auto;
      }
      #top li {
        display: inline;
      }
      #center {
        float: left;
      }
      #popup {
        z-index: 2;
        float: left;
        display: none;
      }
      #popup a{
        color: white;
      }
      #popup-nav {
        height: 50px;
      }
      #popup-close {
        float: left;
      }
      #popup-url {
        float: right;
      }
      #center div {
        display: none;
      }
      #center div div {
        display: block;
      }
      td.square-td {
        width: 33%;
      }
      div.square {
        height: 166px;
        margin: 10px;
        text-overflow: ellipsis;
        overflow: hidden;
        padding: 12px;
      }
      div.square-hover {
        border: 2px solid white;
        padding: 10px;
      }
      .square a {
        text-decoration: underline;
        color: white;
      }
      .square p {
        font-size: 14px;
      }
      .type {
        float: left;
        width: 100px;
        height: 36px;
        padding-top: 16px;
        text-align: center;
        border: 2px solid white;
      }
      #close {
        font-weight: bold;
      }
      .selected-type {
        background-color: white;
        color: black;
      }
      .hover-type {
        background-color: white;
        color: black;
      }
      .never-hover-square {
        padding: 12px !important;
        border: none !important;
      }
      .square h2 {
        font-size: 16px;
        font-weight: bold;
      }
      .video {
        text-align: center;
      }
      .clear {
        clear: both;
      }
      iframe.popup {
        z-index: 2;
      }
      .video-thumbnail {
        width: 120px;
      }



      /* slides */
      .slides_container {
        width:570px;
        overflow:hidden;
        position:relative;
        display:none;
      }

      .slides_container div.slide {
        width:570px;
        display:block;
      }
	#dialogWindow{
		z-index:1;
		position:absolute;
		right:20px;
		top:350px;
	}
	#YouTubeP{
		z-index:1;
	}
	#parent{
		position:relative;
	}
    </style>
	<script type="text/javascript">
      $(document).ready(function(){
        var cvs = document.getElementById("canvas");
        var p = new Processing(cvs, 
(function(aq){var k=(function(){function bk(){var bm=this;function bo(){aq.extendClassChain(bm)}bm.x=0;bm.y=0;bm.hw=0;bm.hh=0;bm.invert=false;bm.pressedHere=false;function br(){return aq.mouseX>bm.x-bm.hw&&aq.mouseX<bm.x+bm.hw&&aq.mouseY>bm.y-bm.hh&&aq.mouseY<bm.y+bm.hh}aq.addMethod(bm,"pressed",br);function bs(bu,bv){bm.x=bu;bm.y=bv}aq.addMethod(bm,"newPos",bs);function bq(){}aq.addMethod(bm,"mousePressed",bq);function bn(){}aq.addMethod(bm,"mouseReleased",bn);function bp(){}aq.addMethod(bm,"draw",bp);function bt(bv,bx,bu,bw){bo();bm.x=bv;bm.y=bx;bm.hw=bu;bm.hh=bw}function bl(){if(arguments.length===4){bt.apply(bm,arguments)}else{bo()}}bl.apply(null,arguments)}return bk})();aq.Button=k;var I=(function(){function bk(){var bp=this;function bo(){aq.extendClassChain(bp)}bp.rapper=null;bp.rapcircle=null;bp.NYC=null;bp.miniNYC=null;bp.eventIcon=null;bp.NYCx=1000;bp.NYCy=711;bp.ox=0;bp.oy=0;bp.ocx=0;bp.ocy=0;bp.allX=0;bp.allY=0;bp.widths=null;bp.heights=null;bp.ominx=0;bp.ominy=0;bp.miniMidX=0;bp.miniMidY=0;bp.midX=0;bp.midY=0;bp.minix=0;bp.miniy=0;bp.maxix=0;bp.maxiy=0;bp.opressed=false;bp.miniPressed=false;bp.once=false;function bn(){bp.$self.drawMap();bp.$self.drawArtists();bp.$self.drawEvents();aq.fill(0);aq.noStroke();aq.rectMode(aq.CORNERS);bp.$self.drawMini()}aq.addMethod(bp,"draw",bn);function bl(){aq.imageMode(aq.CENTER);var bE=0;var bH=0;var bG=0;for(bG=0;bG<8;bG++){bE+=bp.widths[bG];if(bE>bp.midX){break}}var bF=0;for(bF=0;bF<8;bF++){bH+=bp.heights[bF];if(bH>bp.midY){break}}bp.$self.grimage(bF,bG,0+az/2-(bp.widths[bG]/2-(bE-bp.midX)),0+ai/2-(bp.heights[bF]/2-(bH-bp.midY)));if(bF>0){bp.$self.grimage(bF-1,bG,0+az/2-(bp.widths[bG]/2-(bE-bp.midX)),0+ai/2-bp.heights[bF]-(bp.heights[bF-1]/2-(bH-bp.midY))+1)}if(bG>0){bp.$self.grimage(bF,bG-1,0+az/2-bp.widths[bG]-(bp.widths[bG-1]/2-(bE-bp.midX))+1,0+ai/2-(bp.heights[bF]/2-(bH-bp.midY)))}if(bF<7){bp.$self.grimage(bF+1,bG,0+az/2-(bp.widths[bG]/2-(bE-bp.midX)),0+ai/2+bp.heights[bF+1]/2+(bH-bp.midY)-1)}if(bG<7){bp.$self.grimage(bF,bG+1,0+az/2+bp.widths[bG+1]/2+(bE-bp.midX)-1,0+ai/2-(bp.heights[bF]/2-(bH-bp.midY)))}if(bF>0&&bG>0){bp.$self.grimage(bF-1,bG-1,0+az/2-bp.widths[bG]-(bp.widths[bG-1]/2-(bE-bp.midX))+1,0+ai/2-bp.heights[bF]-(bp.heights[bF-1]/2-(bH-bp.midY))+1)}if(bF>0&&bG<7){bp.$self.grimage(bF-1,bG+1,0+az/2+bp.widths[bG+1]/2+(bE-bp.midX)-1,0+ai/2-bp.heights[bF]-(bp.heights[bF-1]/2-(bH-bp.midY))+1)}if(bF<7&&bG<7){bp.$self.grimage(bF+1,bG+1,0+az/2+bp.widths[bG+1]/2+(bE-bp.midX)-1,0+ai/2+bp.heights[bF+1]/2+(bH-bp.midY)-1)}if(bF<7&&bG>0){bp.$self.grimage(bF+1,bG-1,0+az/2-bp.widths[bG]-(bp.widths[bG-1]/2-(bE-bp.midX))+1,0+ai/2+bp.heights[bF+1]/2+(bH-bp.midY)-1)}}aq.addMethod(bp,"drawMap",bl);function bs(bF,bH,bG,bE){if(am[bF][bH]){aq.image(am[bF][bH],bG,bE)}else{if(!ae[bF][bH]){aX(bF,bH);aq.rectMode(aq.CENTER);aq.fill(150);aq.noStroke();aq.rect(bG,bE,1000,1000)}}}aq.addMethod(bp,"grimage",bs);function bA(){aq.imageMode(aq.CORNERS);aq.image(bp.miniNYC,ao,w,x,au);aq.rectMode(aq.CENTER);aq.noFill();aq.strokeWeight(1);aq.stroke(aN[0]);aq.rect(ao+bp.miniMidX,w+bp.miniMidY,aQ,aP);aq.ellipseMode(aq.CENTER);aq.fill(aN[2]);aq.stroke(aN[2]);for(var bE=0;bE<Q.size();bE++){var bF=Q.get(bE);if(bF==j){aq.ellipse(aq.map(bF.x,531.749,531.749+853,ao,x),aq.map(bF.y,231.083,231.083+810,w,au),5,5)}else{aq.ellipse(aq.map(bF.x,531.749,531.749+853,ao,x),aq.map(bF.y,231.083,231.083+810,w,au),3,3)}}}aq.addMethod(bp,"drawMini",bA);function bu(){az=W;ai=a1;aQ=aq.map(az,0,be,0,284);aP=aq.map(ai,0,aK,0,270);bp.midX=be/2;bp.midY=aK/2;bp.miniMidX=aq.map(bp.midX,0,be,0,284);bp.miniMidY=aq.map(bp.midY,0,aK,0,270);bp.widths=new Array(1018,1027,1017,1028,1017,1028,1017,1037);bp.heights=new Array(950,970,970,969,979,970,970,979);bp.allX=9207;bp.allY=8707;bp.$self.setMins()}aq.addMethod(bp,"prep",bu);function br(){if(aq.mouseX>ao&&aq.mouseY>w&&aq.mouseX<x&&aq.mouseY<au){bp.miniPressed=true;bp.miniMidX=aq.min(aq.max(aQ/2,aq.mouseX-ao),284-aQ/2);bp.miniMidY=aq.min(aq.max(aP/2,aq.mouseY-w),270-aP/2);bp.midX=aq.map(bp.miniMidX,0,284,0,be);bp.midY=aq.map(bp.miniMidY,0,270,0,aK);bp.$self.setMins()}}aq.addMethod(bp,"miniMousePressed",br);function bt(){if(bp.miniPressed){bp.miniMidX=aq.min(aq.max(aQ/2,aq.mouseX-ao),284-aQ/2);bp.miniMidY=aq.min(aq.max(aP/2,aq.mouseY-w),270-aP/2);bp.midX=aq.map(bp.miniMidX,0,284,0,be);bp.midY=aq.map(bp.miniMidY,0,270,0,aK);bp.$self.setMins()}}aq.addMethod(bp,"miniMouseDragged",bt);function bB(){bp.miniPressed=false}aq.addMethod(bp,"miniMouseReleased",bB);function bw(){aq.shapeMode(aq.CENTER);aG=-1;for(var bF=0;bF<Q.size();bF++){var bG=Q.get(bF);if(bG.x<a4+10&&bG.x>F-10&&bG.y<a2+15&&bG.y>D-15){var bE=aq.map(bG.x,F,a4,0,W);var bH=aq.map(bG.y,D,a2,0,a1);if(aq.mouseX<bE+15&&aq.mouseX>bE-15&&aq.mouseY<bH+15&&aq.mouseY>bH-15){aq.shape(bp.rapcircle,bE,bH,30,30);aG=bF}else{if(bG==j){aq.shape(bp.rapcircle,bE,bH,30,30)}else{aq.shape(bp.rapper,bE,bH,20,30)}}}}}aq.addMethod(bp,"drawArtists",bw);function by(){aq.imageMode(aq.CENTER);curehover=-1;for(var bF=0;bF<K.size();bF++){var bG=K.get(bF);if(bG.x<a4+15&&bG.x>F-15&&bG.y<a2+24&&bG.y>D-24){var bE=aq.map(bG.x,F,a4,0,W);var bH=aq.map(bG.y,D,a2,0,a1);if(aq.mouseX<bE+15&&aq.mouseX>bE-15&&aq.mouseY<bH+24&&aq.mouseY>bH-24){curehover=bF}aq.image(bp.eventIcon,bE,bH)}}}aq.addMethod(bp,"drawEvents",by);function bv(){bp.ox=aq.mouseX;bp.oy=aq.mouseY;bp.ocx=bp.midX;bp.ocy=bp.midY;bp.ominx=F;bp.ominy=D;bp.opressed=true}aq.addMethod(bp,"mousePressed",bv);function bC(){if(bp.opressed){bp.midX=bp.ocx-(aq.mouseX-bp.ox);bp.midY=bp.ocy-(aq.mouseY-bp.oy);if(bp.midX>be-az/2){bp.midX=be-az/2}if(bp.midX<az/2){bp.midX=az/2}if(bp.midY<ai/2){bp.midY=ai/2}if(bp.midY>aK-ai/2){bp.midY=aK-ai/2}bp.miniMidX=aq.map(bp.midX,0,be,0,284);bp.miniMidY=aq.map(bp.midY,0,aK,0,270);bp.$self.setMins()}}aq.addMethod(bp,"mouseDragged",bC);function bm(){F=aq.map(bp.midX-az/2,0,be,531.749,531.749+853);a4=aq.map(bp.midX+az/2,0,be,531.749,531.749+853);D=aq.map(bp.midY-ai/2,0,aK,231.083,231.083+810);a2=aq.map(bp.midY+ai/2,0,aK,231.083,231.083+810)}aq.addMethod(bp,"setMins",bm);function bD(){bp.opressed=false}aq.addMethod(bp,"mouseReleased",bD);function bx(){bp.opressed=false}aq.addMethod(bp,"mouseOut",bx);function bq(){bo();bp.NYC=aq.loadImage("NYC.gif");bp.miniNYC=aq.loadImage("miniNYC.png");bp.eventIcon=aq.loadImage("eventicon.png");bp.ox=bp.oy=-1;a5();o();bp.rapper=aq.loadShape("rapper.svg");bp.rapcircle=aq.loadShape("bot.svg");bp.$self.prep()}function bz(){if(arguments.length===0){bq.apply(bp,arguments)}else{bo()}}bz.apply(null,arguments)}return bk})();aq.Map=I;var O=(function(){function bk(){var bo=this;var br={$upcast:bo};function bq(){k.apply(br,arguments);if(!("$self" in br)){aq.extendClassChain(br)}}bo.play=false;function bm(){return bo.play}aq.addMethod(bo,"paused",bm);function bu(){if(br.pressed()){bo.invert=true;bo.pressedHere=true}}aq.addMethod(bo,"mousePressed",bu);function bs(){if(br.pressed()&&bo.pressedHere){bo.invert=true}else{bo.invert=false}}aq.addMethod(bo,"mouseDragged",bs);function bp(){if(bo.invert&&bo.pressedHere){if(aE&&r==ar){p.togglePause()}else{if(r==bg){if(a3.getPlayerState()==2){a3.playVideo()}else{a3.pauseVideo()}}}bo.invert=false}bo.pressedHere=false}aq.addMethod(bo,"mouseReleased",bp);function bl(){if(r==ar&&aE){if(p!=null&&p.playState==1){if(p.paused){if(!S){bo.play=true}}else{bo.play=false}}else{bo.play=true}}else{if(r==bg){if(a3.getPlayerState()==2||a3.getPlayerState()==-1){if(!S){bo.play=true}}else{bo.play=false}}}}aq.addMethod(bo,"update",bl);function bt(){if(bo.invert){aq.fill(255);aq.noStroke()}else{aq.noFill();if(br.pressed()){aq.stroke(255)}else{aq.noStroke()}}aq.rect(bo.x-bo.hw,bo.y-bo.hh,bo.x+bo.hw,bo.y+bo.hh);if(bo.invert){aq.fill(0);aq.noStroke()}else{aq.fill(255);aq.noStroke()}if(bo.play){aq.triangle(bo.x-bo.hw/2,bo.y-bo.hh/2,bo.x-bo.hw/2,bo.y+bo.hh/2,bo.x+bo.hw/2,bo.y)}else{aq.rect(bo.x-bo.hw/2,bo.y-bo.hh/2,bo.x-1,bo.y+bo.hh/2);aq.rect(bo.x+bo.hw/2,bo.y-bo.hh/2,bo.x+1,bo.y+bo.hh/2)}}aq.addMethod(bo,"draw",bt);function bv(bx,bz,bw,by){bq(bx,bz,bw,by);bo.play=true}function bn(){if(arguments.length===4){bv.apply(bo,arguments)}else{bq()}}bn.apply(null,arguments)}aq.extendStaticMembers(bk,k);bk.$base=k;return bk})();aq.Play=O;var X=(function(){function bk(){var bm=this;var bp={$upcast:bm};function bo(){k.apply(bp,arguments);if(!("$self" in bp)){aq.extendClassChain(bp)}}bm.invert=false;bm.pressed=false;function bs(){if(bp.pressed()){bm.invert=true;bm.pressedHere=true}}aq.addMethod(bm,"mousePressed",bs);function bq(){if(bp.pressed()&&bm.pressedHere){bm.invert=true}else{bm.invert=false}}aq.addMethod(bm,"mouseDragged",bq);function bn(){if(bm.invert&&bm.pressedHere){bc();bm.invert=false}bm.pressedHere=false}aq.addMethod(bm,"mouseReleased",bn);function br(){if(bm.invert){aq.fill(255);aq.noStroke()}else{aq.noFill();if(bp.pressed()){aq.stroke(255)}else{aq.noStroke()}}aq.rect(bm.x-bm.hw,bm.y-bm.hh,bm.x+bm.hw,bm.y+bm.hh);if(bm.invert){aq.fill(0);aq.noStroke()}else{aq.fill(255);aq.noStroke()}aq.rect(bm.x-3,bm.y-bm.hh/2,bm.x-6,bm.y+bm.hh/2);aq.triangle(bm.x,bm.y-bm.hh/2,bm.x,bm.y+bm.hh/2,bm.x+bm.hw/2+1,bm.y)}aq.addMethod(bm,"draw",br);function bt(bv,bx,bu,bw){bo(bv,bx,bu,bw);bm.invert=false}function bl(){if(arguments.length===4){bt.apply(bm,arguments)}else{bo()}}bl.apply(null,arguments)}aq.extendStaticMembers(bk,k);bk.$base=k;return bk})();aq.Forward=X;var z=(function(){function bk(){var bq=this;function bs(){aq.extendClassChain(bq)}bq.panel=bd;bq.margin=10;bq.slant=2;bq.num=0;bq.mouseMainPaneControl=-1;bq.mouseSort=-1;bq.mouseFilter=0;bq.genreFilter=0;bq.mouseOnTitle=0;bq.mouseGenre=-1;bq.colorIcon=null;bq.sortIcon=null;bq.names=[" Current Info"," Color Mode","Sorting"];bq.currentColor=0;function bt(){bq.$self.drawControl();if(!j){bq.$self.printNoSong()}else{bq.$self.printTopSongs()}}aq.addMethod(bq,"draw",bt);function bu(){}aq.addMethod(bq,"mousePressed",bu);function br(){}aq.addMethod(bq,"mouseReleased",br);function bv(){aq.fill(0);aq.noStroke();aq.rectMode(aq.CORNERS);aq.rect(ao,an,x,w);aq.strokeWeight(2);aq.stroke(255);aq.textSize(15);aq.line(ao,an,x,an);aq.line(ao,aT,x,aT);aq.line(ao,an,ao,w-1);aq.line(x+1,an,x+1,w-1);aq.rectMode(aq.CORNERS);aq.noFill();aq.rect(ao,au,x+1,w);for(var bw=0;bw<5;bw++){aq.line(ao+M*(bw+1),an,ao+M*(bw+1),aT-1)}aq.imageMode(aq.CORNERS);aq.image(u,ao,an,ao+M,aT);aq.image(v,ao+M*2,an,ao+M*3,aT);aq.image(ba,ao+M,an,ao+M*2,aT);aq.image(av,ao+M*3,an,ao+M*4,aT);aq.image(ah,ao+M*4,an,ao+M*5,aT);aq.ellipseMode(aq.CENTER_RADIUS);aq.noStroke();bq.mouseMainPaneControl=-1;aq.stroke(255);aq.noFill();if(aq.mouseX>ao&&aq.mouseY>an&&aq.mouseY<aT&&aq.mouseX<ao+M*5){for(var bw=0;bw<5;bw++){if(aq.mouseX<ao+M*(bw+1)){aq.rect(ao+M*bw+2,an+1,ao+M*(bw+1)-2,aT-2);aq.textAlign(aq.LEFT,aq.BASELINE);aq.textSize(16);aq.fill(255);curMenu=bw;bq.$self.title(ao,an-7);bq.mouseMainPaneControl=bw;break}}}else{curMenu=-1}}aq.addMethod(bq,"drawControl",bv);function bn(bw,bx){switch(curMenu){case 0:aq.text("Artist Info",bw,bx);break;case 1:aq.text("Heart Artist",bw,bx);break;case 2:aq.text("Artist's Facebook Page",bw,bx);break;case 3:aq.text("View Current Song Video",bw,bx);break;case 4:aq.text("Tweet About Song",bw,bx);break}}aq.addMethod(bq,"title",bn);function bm(){aq.textAlign(aq.LEFT,aq.TOP);aq.textSize(22);aq.fill(aN[2]);i(j.name,ao+10,aT+10,200,0,22);aq.fill(255);aq.textSize(16);var bx=j.topTracks.length;Z=-1;for(var bw=0;bw<bx;bw++){if(bw==ay){aq.fill(aN[2]);i(j.topTracks[bw].title,ao+20,aT+35+bw*22,250,aN[2],30);aq.fill(255)}else{if(aq.mouseX>ao+20&&aq.mouseY<aT+35+(bw+1)*22&&aq.mouseY>aT+35+bw*22){aq.fill(aN[2]);i(j.topTracks[bw].title,ao+20,aT+35+bw*22,250,aN[2],30);Z=bw;aq.fill(255)}else{i(j.topTracks[bw].title,ao+20,aT+35+bw*22,250,aq.color(255),30)}}}}aq.addMethod(bq,"printTopSongs",bm);function bp(){aq.textAlign(aq.LEFT);aq.fill(255);aq.textSize(16);aq.text("Welcome to RapCities! Here you can explore how the sound of Hip-Hop and Rap changes from neighborhood to neighborhood in New York City!\n\nIf you find an artist you want to check out, just click on their icon, and you'll get to sample some of their most popular tunes.\n\n",ao+20,aT+35,x-ao-40,a1-aT)}aq.addMethod(bq,"printNoSong",bp);function bl(bx,bw){bs();ao=bx;an=bw;M=57;aT=an+M;x=W-aI;w=an+555;au=w+270;bq.num=bq.names.length;aq.textSize(16)}function bo(){if(arguments.length===2){bl.apply(bq,arguments)}else{bs()}}bo.apply(null,arguments)}return bk})();aq.SidePane=z;var q=(function(){function bk(){var bq=this;function bo(){aq.extendClassChain(bq)}bq.play=null;bq.ffwd=null;bq.pressedInSeekBar=false;bq.onVol=false;bq.onVolGen=false;bq.volDragged=false;bq.songPausedToBeginWith=false;bq.stillWithinSeekBar=false;bq.totTime=null;bq.total=0;function bn(){if(r==bg||(r==ar&&aE)){aq.rectMode(aq.CORNERS);bq.play.update();bq.play.draw();bq.ffwd.draw();bq.$self.drawSeekBar();bq.$self.drawVolume();if(bq.onVolGen){bq.$self.drawVolumeSetter()}aq.rectMode(aq.CENTER);aq.ellipseMode(aq.CENTER_RADIUS)}}aq.addMethod(bq,"draw",bn);function bm(){aq.textAlign(aq.LEFT,aq.TOP);aq.textSize(20);var bG=aN[2];aq.fill(bG);var bH=0,bI=0;if(aq.textWidth(j.topTracks[ay].title+" by "+j.name)<=(ax-50-aL+20)){bH=bI=W}else{if(aq.textWidth(j.topTracks[ay].title)>(ax-50-aL+20)/2-16&&aq.textWidth(j.name)>(ax-50-aL+20)/2-16){bH=bI=(ax-50-aL+20)/2-16}else{if(aq.textWidth(j.topTracks[ay].title)>aq.textWidth(j.name)){bI=W;bH=ax-50-aL+20-aq.textWidth(p.artist+" by ")}else{bH=W;bI=ax-50-aL+20-aq.textWidth(j.topTracks[ay].title+" by ")}}}i(j.topTracks[ay].title,aL+20,h+37,bH,bG,24);i(j.name,aL+20+aq.textWidth(" by ")+aq.min(bH,aq.textWidth(j.topTracks[ay].title)),h+37,bI,bG,24);aq.fill(255);aq.text(" by ",aL+20+aq.min(bH,aq.textWidth(j.topTracks[ay].title)),h+37)}aq.addMethod(bq,"drawSongInfo",bm);function bt(){bq.play.mousePressed();bq.ffwd.mousePressed();bq.$self.checkSeekBar();bq.$self.checkVol()}aq.addMethod(bq,"mousePressed",bt);function bC(){bq.play.mouseDragged();bq.ffwd.mouseDragged();bq.$self.dragSeekBar();bq.$self.dragVol()}aq.addMethod(bq,"mouseDragged",bC);function bD(){bq.play.mouseReleased();bq.ffwd.mouseReleased();bq.$self.releaseSeekBar();bq.$self.releaseVol()}aq.addMethod(bq,"mouseReleased",bD);function bu(){if(aq.mouseX>ax-10&&aq.mouseX<ax+2&&aq.mouseY>E-6&&aq.mouseY<E+6){return true}return false}aq.addMethod(bq,"onVolume",bu);function bE(){if(aq.mouseX>ax-volS-10&&aq.mouseX<ax+20&&aq.mouseY>E-volY&&aq.mouseY<E+volY){return true}return false}aq.addMethod(bq,"onVolumeSetter",bE);function bl(){if(bq.$self.onVolume()){bq.onVol=true;aq.stroke(255)}else{aq.noStroke();bq.onVol=false}aq.fill(255);aq.triangle(ax-10,E,ax,E-7,ax,E+7);aq.rect(ax-10,E+3,ax-3,E-3);aq.stroke(255);aq.strokeWeight(2);aq.noFill();if(!bh){if(ab>80){aq.arc(ax+6,E,12,12,-(aq.PI/3),aq.PI/3)}if(ab>60){aq.arc(ax+5,E,9,9,-(aq.PI/3),aq.PI/3)}if(ab>40){aq.arc(ax+4,E,6,6,-(aq.PI/3),aq.PI/3)}if(ab>20){aq.arc(ax+3,E,3,3,-(aq.PI/3),aq.PI/3)}}else{aq.stroke(aN[0]);aq.line(ax-9,E-8,ax+2,E+7)}if(bq.$self.onVolumeSetter()){bq.onVolGen=true}else{if(!bq.volDragged){bq.onVolGen=false}}}aq.addMethod(bq,"drawVolume",bl);function by(){if(bq.onVol){bq.$self.toggleMute()}else{if(bq.onVolGen&&aq.mouseX>ax-volS-5&&aq.mouseX<ax-volS+5&&aq.mouseY>E-volY&&aq.mouseY<E+volY){bq.volDragged=true;ab=(E+volY-aq.mouseY)/volD;if(r==ar){p.setVolume(ab)}else{if(r==bg){a3.setVolume(ab)}}}}}aq.addMethod(bq,"checkVol",by);function bF(){if(bq.volDragged){if(aq.mouseY>E+volY){ab=0}else{if(aq.mouseY<E-volY){ab=100}else{ab=(E+volY-aq.mouseY)/volD}}if(r==ar){p.setVolume(ab)}else{if(r==bg){a3.setVolume(ab)}}}}aq.addMethod(bq,"dragVol",bF);function bx(){if(bq.volDragged){bq.volDragged=false}}aq.addMethod(bq,"releaseVol",bx);function bs(){aq.stroke(255);aq.strokeWeight(2);aq.fill(0);aq.rect(ax-volS-5,E-volY,ax-volS+5,E+volY);if(ab>0){aq.fill(aN[2]);aq.noStroke();aq.rect(ax-volS-4,E+volY-1,ax-volS+4,E+volY+1-ab*volD)}}aq.addMethod(bq,"drawVolumeSetter",bs);function bp(){if(r==ar&&aE){p.toggleMute()}else{if(r==bg){if(a3.isMuted()){a3.unMute()}else{a3.mute()}}}bh=!bh}aq.addMethod(bq,"toggleMute",bp);function bz(){if((r==ar&&aE)||r==bg){if(aq.mouseX>bb&&aq.mouseX<seekRight&&aq.mouseY>E-10&&aq.mouseY<E+10){S=true;bq.stillWithinSeekBar=true;if((r==ar&&p.paused)||(r==bg&&a3.getPlayerState()==2)){bq.songPausedToBeginWith=true}else{bq.songPausedToBeginWith=false}if(r==ar){p.pause()}else{a3.pauseVideo()}}}}aq.addMethod(bq,"checkSeekBar",bz);function bB(){if(r==bg||(r==ar&&aE)){if(S){if(aq.mouseX>bb&&aq.mouseX<seekRight&&aq.mouseY>E-10&&aq.mouseY<E+10){var bH=0;if(r==ar){if(p!=null&&p.readyState==1){bH=p.durationEstimate}else{if(p!=null&&p.readyState==3){bH=p.duration}}var bG=aq.__int_cast(aq.map(aq.mouseX,bb,seekRight,0,bH));if(!bq.songPausedToBeginWith){p.resume()}p.setPosition(bG)}else{var bG=aq.__int_cast(aq.map(aq.mouseX,bb,seekRight,0,a3.getDuration()));a3.seekTo(bG,true);if(!bq.songPausedToBeginWith){a3.playVideo()}}}S=false;bq.stillWithinSeekBar=false;if(!bq.songPausedToBeginWith){if(r==ar){p.resume()}else{a3.playVideo()}}}}}aq.addMethod(bq,"releaseSeekBar",bB);function bv(){if(r==bg||(r==ar&&aE)){if(S){if(aq.mouseX>bb&&aq.mouseX<seekRight&&aq.mouseY>E-10&&aq.mouseY<E+10){bq.stillWithinSeekBar=true}else{bq.stillWithinSeekBar=false}}}}aq.addMethod(bq,"dragSeekBar",bv);function bw(){aq.stroke(255);aq.strokeWeight(3);if((r==ar&&p!=null&&p.readyState==1)||r==bg&&a3.getPlayerState()==3){aq.strokeWeight(1);aq.line(bb,E,seekRight,E);aq.strokeWeight(3);var bG=0;if(r==ar){bG=aq.map(p.bytesLoaded,0,p.bytesTotal,bb,seekRight)}else{bG=aq.map(a3.getVideoBytesLoaded(),0,a3.getVideoBytesTotal(),bb,seekRight)}if(bG>=0){aq.line(bb,E,bG,E)}}else{aq.line(bb,E,seekRight,E)}if((r==ar&&p!=null&&(p.readyState==1||p.readyState==3))||(r==bg&&a3.getPlayerState()>0)){var bH=null;if(!S||!bq.stillWithinSeekBar){var bG=0;if(r==ar){if(p.readyState==1){bq.total=p.durationEstimate;bq.totTime=aY(bq.total/1000)}else{if(p.readyState==3){bq.total=p.duration;bq.totTime=aY(bq.total/1000)}}bH=aY(p.position/1000);bG=aq.map(p.position,0,bq.total,bb,seekRight)}else{if(r==bg){bq.total=a3.getDuration();bq.totTime=aY(bq.total);bH=aY(a3.getCurrentTime());bG=aq.map(a3.getCurrentTime(),0,bq.total,bb,seekRight)}}if(bG>=0){aq.line(bG,E-10,bG,E+10)}}else{aq.line(aq.mouseX,E-10,aq.mouseX,E+10);var bI=aq.map(aq.mouseX,bb,seekRight,0,bq.total);if(r==ar){bI/=1000}bH=aY(bI)}aq.fill(255);aq.textSize(15);aq.textAlign(aq.LEFT,aq.CENTER);aq.text(bH+"/"+bq.totTime,aB-al,E)}aq.strokeWeight(1)}aq.addMethod(bq,"drawSeekBar",bw);function br(){bo();aL=ao;aB=x;n=w-230;a6=w;al=aq.textWidth("0:00/0:00");bb=ao+110;E=w-18;bq.play=new O(ao+72,E,10,10);bq.ffwd=new X(ao+95,E,10,10);ax=ao+40;volY=15;volD=0.3;volS=20;seekRight=x-10-al;aq.textSize(15)}function bA(){if(arguments.length===0){br.apply(bq,arguments)}else{bo()}}bA.apply(null,arguments)}return bk})();aq.Current=q;var ap=(function(){function bk(){var bq=this;function bs(){aq.extendClassChain(bq)}function bp(by){$("#popup-content").attr("src",by);$("#popup-url").attr("href",by);$("#center").hide();$("#popup").show()}function bv(bz){var by="<table><tr>";$.each(bz,function(bA,bB){by+="<td class='square-td'><div class='square' data-url='"+bB.url+"'><h2>"+bB.site+"</h2><p>"+bu(bB.text)+"</p></div></td>";if(bA==8){by+="</tr>";return false}else{if((bA+1)%3==0){by+="</tr><tr>"}}});$("#biographies").html(by)}function bu(by){return by.substr(0,250)+"..."}function bo(bz){var by="<table><tr>";$.each(bz,function(bA,bB){by+="<td class='square-td'><div class='square' data-url='"+bB.url+"'><h2>"+bB.name+"</h2><p>"+bu(bB.summary)+"</p></div></td>";if(bA==8){by+="</tr>";return false}else{if((bA+1)%3==0){by+="</tr><tr>"}}});$("#blogs").html(by)}function bx(by){}function bw(bz){var by="<table><tr>";$.each(bz,function(bA,bB){by+="<td class='square-td'><div class='square' data-url='"+bB.url+"'><h2>"+bB.name+"</h2><p>"+bu(bB.summary)+"</p></div></td>";if(bA==8){by+="</tr>";return false}else{if((bA+1)%3==0){by+="</tr><tr>"}}});$("#news").html(by)}function bt(bz){var by="<table><tr>";$.each(bz,function(bA,bB){by+="<td class='square-td'><div class='square video' data-url='"+bB.url+"'><h2>"+bB.title+"</h2><img class='video-thumbnail' src='"+bB.image_url+"'></div></td>";if(bA==8){by+="</tr>";return false}else{if((bA+1)%3==0){by+="</tr><tr>"}}});$("#videos").html(by)}function bn(by){$("#center").children().css("display","none");$("#"+by).css("display","block")}bq.canvas=document.getElementById("canvas");bq.selectDiv=document.getElementById("artist-info");bq.selectDivHeight=635;bq.selectDivWidth=1158;bq.selectDivX=9;bq.selectDivY=9;function br(by){bq.selectDiv.style.width=bq.selectDivWidth;bq.selectDiv.style.height=bq.selectDivHeight;bq.selectDiv.style.top=bq.selectDivY+"px";bq.selectDiv.style.zIndex=1;$("#center, #popup, #popup-nav, #popup-content").css("width",bq.selectDivWidth+"px");$("#popup-content").css("height",bq.selectDivHeight+"px");$.getJSON("http://rapcities.com/getArtistInfo?id="+by,function(bz){bv(bz.biographies);bo(bz.blogs);bx(bz.images);bw(bz.news);bt(bz.videos);$(".square").hover(function(){$(this).addClass("square-hover")},function(){$(this).removeClass("square-hover")}).click(function(){bp($(this).data("url"))});$("#close").click(function(){$("#artist-info").css("z-index","-1")})});$(".type").click(function(){bn($(this).data("type"));$(".type").removeClass("selected-type");$(this).addClass("selected-type");$("#popup").hide();$("#center").show()}).hover(function(){$(this).addClass("hover-type")},function(){$(this).removeClass("hover-type")});$("#popup-close").click(function(){$("#popup").hide();$("#center").show()})}aq.addMethod(bq,"showArtistInfo",br);function bl(){bs()}function bm(){if(arguments.length===0){bl.apply(bq,arguments)}else{bs()}}bm.apply(null,arguments)}return bk})();aq.ArtistInfo=ap;var aE=false;var aJ=null;var aN=null;var m=null;var P=null;var C=null;var ac=null;var l=null;var aa=null;var aR=null;var y=0;var aA=1;var f=2;var L=0;var d=1;var T=2;var bj=y;var N=false;var bf=T;var aU=0;var p=null;var am=null,ae=null;var aC=0;var B=1;var W=0,a1=0,h=0,J=0;var be=0,aK=0;var aI=0,aH=0,e=0,a9=0;var au=0;function aO(){W=aq.max(700,$(window).width());a1=aq.max(870,$(window).height());logo=aq.loadImage("logo");$("#parent").css("width",W).css("height",a1);if(W==700||a1==870){$("body").css("overflow","visible")}e=1920;a9=1000;aI=20;aH=30;h=30;J=0;aK=7757;be=8189;at();aj=new aq.ArrayList();aq.size(W,a1);aq.frameRate(30);aq.smooth();aq.rectMode(aq.CORNERS);aq.ellipseMode(aq.CENTER_RADIUS);aE=false;aJ=aq.createFont("Arial",13);aq.textFont(aJ);aw();songs=new aq.ArrayList();C=new aq.HashMap();l=new z(W-aI-284,aH);ac=new q();aa=new I();am=new Array(8);ae=new Array(8);for(var bl=0;bl<8;bl++){am[bl]=new Array(8);ae[bl]=new Array(8);for(var bk=0;bk<8;bk++){ae[bl][bk]=false}}aR=new ap();v=aq.loadImage("facebook");av=aq.loadImage("youtube");u=aq.loadImage("info");ba=aq.loadImage("heart");ah=aq.loadImage("twitter")}aq.setup=aO;function b(bl,bk){if(bl!=W||bk!=a1){W=bl;a1=bk;$("#parent").css("width",bl).css("height",bk);h=30;J=0;aq.size(W,a1);az=W;ai=a1;ao=W-aI-284;x=W-aI;aQ=aq.map(az,0,be,0,284);aP=aq.map(ai,0,aK,0,270);aa.setMins();bb=ao+110;ax=ao+40;seekRight=x-10-al;ac.play.newPos(ao+72,E);ac.ffwd.newPos(ao+95,E);aL=ao;aB=x}}aq.setUpSize=b;var v=null,av=null,a8=null,u=null,ba=null,ad=null,ah=null;function aw(){aq.colorMode(aq.RGB);aN=aq.createJavaArray("$p.color",[10]);m=aq.createJavaArray("$p.color",[10]);aN[0]=aq.color(255,0,0);aN[1]=aq.color(255,103,0);aN[2]=aq.color(255,182,0);aN[3]=aq.color(231,255,0);aN[4]=aq.color(0,255,18);aN[5]=aq.color(0,255,212);aN[6]=aq.color(0,104,155);aN[7]=aq.color(149,0,255);aN[8]=aq.color(248,0,255);aN[9]=aq.color(255,3,141);m[0]=aq.color(0,153,153);m[1]=aq.color(100,168,209);m[2]=aq.color(133,133,232);m[3]=aq.color(230,113,255);m[4]=aq.color(255,128,157);m[5]=aq.color(255,176,128);m[6]=aq.color(255,195,100);m[7]=aq.color(249,243,140);m[8]=aq.color(222,244,130);m[9]=aq.color(204,255,123)}aq.setUpColors=aw;function aF(){aa.draw();aq.imageMode(aq.CORNER);aq.image(logo,0,0);l.draw();ac.draw();if(aG>-1){bi(aG)}if(curehover>-1){aV(curehover)}}aq.draw=aF;var Q=new aq.ArrayList();var K=new aq.ArrayList();var j=null;function a5(){Q.clear();var bk="http://rapcities.com/getArtists";if(bj){bk+="&sort="+bj}$.getJSON(bk,function(bm){if(bm!=null){var bn=bm.length;for(var bl=0;bl<bn;bl++){bm[bl].X=aq.map(bm[bl].x,725.056,935.131,1,2000);bm[bl].Y=aq.map(bm[bl].y,701.865,850.945,1,1422);Q.add(bm[bl])}}})}aq.setUpArtists=a5;function o(){K.clear();var bl=aq.__split(window.location.pathname,(new aq.Character("/")));var bk=null;if(bl.length>0){if(bl.length<3){bk=bl[1]}else{bk=bl[3]}$.getJSON("http://rapcities.com/getEvents?sponsor="+bk,function(bn){if(bn!=null){var bo=bn.length;for(var bm=0;bm<bo;bm++){bn[bm].X=aq.map(bn[bm].x,725.056,935.131,1,2000);bn[bm].Y=aq.map(bn[bm].y,701.865,850.945,1,1422);K.add(bn[bm])}}})}}aq.setUpEvents=o;var F=0,D=0,a4=0,a2=0;var az=0,ai=0,aQ=0,aP=0;var aG=-1;function aX(bl,bk){var bm=null;if((bl==0)||(bl==1&&bk<1)){bm="0";bm+=String(bl*8+bk+1)+".grid"}else{bm=String(bl*8+bk+1)+".grid"}ae[bl][bk]=true;am[bl][bk]=aq.loadImage(bm)}aq.loadMapPiece=aX;function bi(bl){var bk=Q.get(bl).name;aq.textSize(18);var bm=aq.textWidth(bk);aq.stroke(aN[2]);aq.fill(0);aq.rectMode(aq.CORNERS);aq.rect(aq.mouseX,aq.mouseY-33,aq.mouseX+bm+12,aq.mouseY-7,10);aq.fill(aN[2]);aq.textAlign(aq.LEFT,aq.TOP);aq.text(bk,aq.mouseX+6,aq.mouseY-30)}aq.drawHoverInfo=bi;function aV(bl){var bk=K.get(bl).title;aq.textSize(18);var bm=aq.textWidth(bk);aq.stroke(aN[6]);aq.fill(0);aq.rectMode(aq.CORNERS);aq.rect(aq.mouseX,aq.mouseY-33,aq.mouseX+bm+12,aq.mouseY-7,10);aq.fill(aN[6]);aq.textAlign(aq.LEFT,aq.TOP);aq.text(bk,aq.mouseX+6,aq.mouseY-30)}aq.drawEventInfo=aV;function A(){if(aG>=0){j=Q.get(aG);ay=0;s()}else{if(curehover>=0){R()}else{if(curMenu>=0){switch(curMenu){case 0:aR.showArtistInfo(j.echoID);return;case 1:case 4:case 2:aq.link(j.facebook,"_new");return;case 3:return}}else{if(Z>=0){ay=Z;s()}}}}}aq.mouseClicked=A;function a0(bk){$.getJSON("http://rapcities.com/getTrack?id="+bk,function(bl){if(aE){ak()}a7(bl.url)})}aq.getSong=a0;function a7(bk){p=soundManager.createSound({id:bk,url:bk,autoLoad:true,autoPlay:true,volume:ab,onfinish:function(){ag()}});aE=true;if(bh){p.mute()}}aq.startSong=a7;function ak(){aE=false;p.stop();p.unload();p.destruct()}aq.stopSong=ak;function aS(){if(aq.mouseY<a6&&aq.mouseY>n&&aq.mouseX<aB&&aq.mouseX>aL){ac.mousePressed()}else{if(aq.mouseX>ao&&aq.mouseX<x&&aq.mouseY>an&&aq.mouseY<au){if(aq.mouseY<w){l.mousePressed()}else{aa.miniMousePressed()}}else{aa.mousePressed()}}}aq.mousePressed=aS;function aM(){ac.mouseDragged();aa.mouseDragged();aa.miniMouseDragged()}aq.mouseDragged=aM;function H(){aa.mouseOut();ac.mouseReleased()}aq.mouseOut=H;function a(){ac.mouseReleased();aa.mouseReleased();aa.miniMouseReleased()}aq.mouseReleased=a;var g=-1;var af=1;var c=0;var V=true;function aW(){for(var bk=songs.size()-1;bk>-1;bk--){if(bk==Z&&aE){songs.get(bk).stopSong()}songs.remove(bk)}Z=-1;p=null}aq.resetSongs=aW;function ag(){ak();if(ay<j.topTracks.length-1){ay++;s()}else{bc()}}aq.createNext=ag;var aj=null;function bc(){var bm=false;for(var bk=0;bk<aj.size();bk++){if(aj.get(bk)==j.name){bm=true;break}}if(!bm){aj.add(j.name)}for(var bk=0;bk<Q.size();bk++){var bl=Q.get(bk);if(bl.x>F&&bl.x<a4&&bl.y>D&&bl.y<a2){if(!aq.__contains(aj,bl.name)){j=bl;ay=0;s()}}}}aq.nextArtist=bc;function Y(bl,bk){this.length=bl;this.index=bk}function i(bn,br,bp,bq,bk,bu){if(aq.textWidth(bn)>bq){var bs=C.get(bn+aq.textWidth(bn));if(bs==null){bs=new Y(0,0);C.put(bn+aq.textWidth(bn),bs)}var bm=bs.index;var bo=bn.length;if(bs.length>=aq.textWidth(bn.charAt(bm))){if(bm<bo-1){bs.index++;bm++;bs.length=0}else{bs.index=bm=0;bs.length=-40}}var bt=aq.textWidth(bn.charAt(bm))-bs.length;bm++;while(bt<bq&&bm<bo){bt+=aq.textWidth(bn.charAt(bm));bm++}aq.text(bn.substring(bs.index,bm),br-bs.length,bp);if(bm==bo){bt+=40;var bl=0;while(bt<bq){bt+=aq.textWidth(bn.charAt(bl));bl++}aq.text(bn.substring(0,bl),br+aq.textWidth(bn.substring(bs.index,bm))-bs.length+40,bp)}aq.noStroke();aq.fill(0);aq.rectMode(aq.CORNERS);aq.rect(br-aq.textWidth((new aq.Character("W"))),bp+bu,br,bp);aq.rect(br+bq,bp,br+bq+aq.textWidth((new aq.Character("W"))),bp+bu);aq.fill(bk);bs.length++;C.put(bn+aq.textWidth(bn),bs)}else{aq.text(bn,br,bp)}}aq.checkText=i;var bd=0;var t=1;var aZ=0;var an=0,ao=0,w=0,x=0,M=0,aT=0;var Z=-1;var ay=-1;var S=false;var ab=50;var bh=false;var al=0,bb=0,ax=0;var aB=0,aL=0,n=0,a6=0,E=0;function aY(bm){var bl=aq.__int_cast((bm%60));var bk=aq.__int_cast(((bm%3600)/60));var bn=null;if(bl==0){bn="00"}else{if(bl<10){bn="0"+bl}else{bn=bl}}return(bk+":"+bn)}aq.makeTime=aY;function U(){if(ay<j.topTracks.length-1){ay++;s()}else{bc()}}aq.videoEnded=U;function at(){$("#ytplayer").html('<script type="text/javascript">var params = { allowScriptAccess: "always" };var atts = { id: "YouTubeP" };swfobject.embedSWF("http://www.youtube.com/apiplayer?enablejsapi=1&version=3", "ytplayer", "283", "200", "8", null, null, params, atts);<\/script>')}aq.togglePlayer=at;var a3=null;var r=false;var ar=1;var bg=2;function aD(){a3=document.getElementById("YouTubeP");r=bg;a3.setVolume(ab)}aq.prepPlayer=aD;function R(){$("#ytplayer").html('<script type="text/javascript">var params={allowScriptAccess:"always"};var atts={id:"ytplayer"};var url="http://www.youtube.com/v/'+K.get(curehover).link+'?enablejsapi=1&playerapiid=ytplayer&version=3&autoplay=1&controls=1";swfobject.embedSWF(url,"ytplayer","350","300","8",null,null,params,atts);<\/script>')}aq.loadEventVideo=R;function s(){$.ajax({type:"GET",dataType:"jsonp",url:"http://gdata.youtube.com/feeds/api/videos?q="+aq.__replace(j.topTracks[ay].title,/ /g,(new aq.Character("+")))+"+"+aq.__replace(j.name,/ /g,(new aq.Character("+")))+"&v=2&alt=jsonc&max-results=1&format=5",success:function(bl){if(bl.data.items.length>0){var bk=bl.data.items[0].id;a3.loadVideoById(bk)}else{$("#ytplayer").html("<p>Couldn't find this song on YouTube</p>")}}})}aq.loadVideo=s;function G(){$.ajax({type:"GET",dataType:"jsonp",url:"http://gdata.youtube.com/feeds/api/videos?q="+aq.__replace(j.topTracks[ay].title,/ /g,(new aq.Character("+")))+"+"+aq.__replace(j.name,/ /g,(new aq.Character("+")))+"&v=2&alt=jsonc&max-results=1&format=5",success:function(bl){if(bl.data.items.length>0){var bk=bl.data.items[0].id;$("#ytplayer").html('<script type="text/javascript">var params={allowScriptAccess:"always"};var atts={id:"YouTubeP"};var url="http://www.youtube.com/v/'+bk+'?enablejsapi=1&playerapiid=YouTubeP&version=3&autoplay=1&controls=1";swfobject.embedSWF(url,"ytplayer","350","300","8",null,null,params,atts);<\/script>')}else{$("#ytplayer").html("<p>Couldn't find this song on YouTube</p>")}}})}aq.oldloadVideo=G})      
      );
});
</script>
<script type="text/javascript">
	function onYouTubePlayerReady(playerId){	document.getElementById('YouTubeP').addEventListener("onStateChange","onytplayerStateChange");
	Processing.getInstanceById('canvas').prepPlayer();	
	}
	
	function onytplayerStateChange(newState) {
	   if(newState == 0){
		Processing.getInstanceById('canvas').videoEnded();
	   }
	}	
</script>
<script type="text/javascript">
$(window).resize(function(){
	if($(window).width() < 700 || $(window).height() < 870){
		var p = Processing.getInstanceById('canvas');
		p.setUpSize(Math.max($(window).width(),700),Math.max(870,$(window).height()));
		$("body").css("overflow","visible");
	}
	else{
		var p = Processing.getInstanceById('canvas');
		p.setUpSize($(window).width(),$(window).height());
		$("body").css("overflow","hidden");
		$("#parent").css("width",$(window).width()).css("height",$(window).height());
	}
});
</script>
  </head>
  <body bgcolor="Black">
    <div id="parent">
      <canvas id="canvas">
        <font size="10" color="white">Your browser doesn't support HTML5! Please
          and use the latest version of Mozilla Firefox or Google Chrome.</font>
      </canvas>
	<div id="dialogWindow" title="YouTube Player">
		<div id="ytplayer">
			<p>Oops! Seems like you don't have Flash Player 8+ and/or JavaScript enabled!</p>

		</div>
	</div>
      <div id='artist-info'>
        <div id="top">
          <div class='type' data-type='biographies'>Biographies</div>
          <div class='type' data-type='blogs'>Blogs</div>
          <div class='type' data-type='images'>Images</div>
          <div class='type' data-type='news'>News</div>
          <div class='type' data-type='videos'>Videos</div>
          <div class='type' id='close'>Close</div>
          <div class='clear'></div>
        </div>
        <div id="center">
          <div id="biographies"></div>
          <div id="blogs"></div>
          <div id="images"></div>
          <div id="news"></div>
          <div id="videos"></div>
        </div>
        <div id="popup">
          <div id="popup-nav">
            <a id="popup-close" href="#">Close</a>
            <a id="popup-url" href="#">Go to site</a>
          </div>
          <iframe id="popup-content" src="">
        </div>
        <div class="clear"></div>
      </div>
    </div>
  </body>
</html>
